{"version":3,"sources":["services/AuthService.js","services/SearchService.js","services/CategoryService.js","components/navigation/Search.js","components/navigation/Navbar.js","components/form/FormButton.js","components/auth/Signup.js","components/auth/Login.js","components/home/donor/ProfileSettings.js","components/home/donor/SuggestedOrg.js","components/home/donor/DonationList.js","components/home/donor/Category.js","components/notification/Notification.js","components/home/organization/OrganizationSettings.js","components/home/organization/CampaignItem.js","services/CampaignService.js","components/home/organization/CampaignControls.js","components/home/organization/UserList.js","services/UserService.js","services/DonationService.js","components/home/Home.js","components/update/forms/Address.js","components/update/forms/FullName.js","components/update/forms/OrganizationContact.js","components/update/forms/OrganizationDetails.js","components/update/forms/Image.js","components/update/Update.js","components/comment/Comment.js","components/profile/organization/CampaignBlurb.js","components/profile/Profile.js","components/donate/PayPalButton.js","components/donate/DonateOrg.js","components/donate/DonateCampaign.js","components/campaign/form/CampaignDetails.js","components/campaign/form/Image.js","components/campaign/EditCampaign.js","components/donate/SuccessfulDonation.js","components/campaign/Campaign.js","components/Main.js","components/category/Category.js","components/campaign/AddCampaign.js","App.js","serviceWorker.js","index.js"],"names":["AuthService","signup","type","username","email","password","service","post","then","response","data","login","loggedin","get","logout","this","URL","process","axios","create","baseURL","withCredentials","SearchService","searchTerm","res","CategoryService","getCategories","getCategoryById","categoryId","Search","props","handleSubmit","getSearchResults","setState","state","results","catch","err","handleChange","event","target","name","value","categoryService","className","placeholder","onChange","e","length","id","role","map","result","i","key","to","uri","title","icon","faSearch","aria-hidden","Component","Navbar","handleLogout","loggedInUser","nextProps","aria-label","alt","src","aria-expanded","data-target","image","_id","onClick","FormButton","buttonClass","toggleClass","children","Signup","handleFormSubmit","preventDefault","getUser","user","history","push","error","onSubmit","faUser","faEnvelope","faLock","withRouter","Login","required","ProfileSettings","userData","userFirstname","userSurname","faEdit","faUserSlash","SuggestedOrg","randomOrg","orgName","orgDescription","DonationList","Fragment","Array","isArray","donations","donation","amountDonated","org","campaign","Category","buttonSelected","userInterests","includes","toggleInterest","toggleButtonClass","faHeart","Notification","notification","OrganizationSettings","CampaignItem","deleteCampaign","campaigns","filter","faFlag","size","CampaignService","addCampaign","description","deadline","status","fundraisingTarget","suggestedDonations","organization","getOrgCampaigns","UserObjId","getCampaign","CampaignId","updateCampaign","campaignId","CampaignObj","put","theFile","CampaignControls","campaignService","userId","UserList","donors","obj","donor","href","UserService","getOrg","updateUser","updatedUserObj","getOrgDonationsById","getCampaignDonationsById","getOrgByCategory","DonationService","donorId","orgId","donationId","comment","idOrg","idCampaign","Home","interests","loggedUser","splice","indexOf","updatedUser","userInSession","prueba","category","index","userService","donationService","getUserDonations","getDonors","resp","userList","contactConsent","organizations","Promise","all","Donations","allDonations","concat","sort","a","b","Date","created_at","console","log","handleCarousel","faArrowLeft","faArrowRight","categoryList","Address","line1","line2","city","stateOrProvince","postalCode","country","openTab","expand","faAngleDown","cardClass","faAngleUp","toggleCardClass","handleUpdateSubmit","FullName","firstname","userLastname","surname","OrganizationContact","orgContactPerson","contactPerson","orgTelephone","telephone","orgEmail","orgUrl","url","OrganizationDetails","orgRegistrar","registrar","orgLicense","license","Image","handleUpload","uploadData","FormData","append","files","imageUrl","secure_url","faUpload","Update","handleAddressSubmit","updateFormValues","address","handleFullNameSubmit","handleOrgContactSubmit","handleOrgDetailsSubmit","handleImageSubmit","Comment","anonymous","amount","moment","date","format","CampaignBlurb","Profile","profile","comments","getProfileUser","getOrgDonations","match","params","slice","userAmountDonated","faGlobe","faPhoneSquareAlt","anonymousDonation","faDonate","PaypalButton","showButton","window","React","ReactDOM","isScriptLoaded","isScriptLoadSucceed","paypal","PAYPAL","total","currency","env","commit","client","onSuccess","onError","onCancel","Button","react","payment","rest","transactions","onAuthorize","actions","execute","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","scriptLoader","CLIENT","sandbox","DonateOrg","handleCheckboxChange","checked","contact","PayPalButton","addOrgDonation","DonateCampaign","addCampaignDonation","CampaignDetails","handleCampaignDetailsSubmit","updatedCampaign","suggestedDonation","EditCampaign","SuccessfulDonation","donationComment","addComment","Campaign","getCampaignDonations","Object","entries","constructor","totalDonations","Main","AddCampaign","orgCampaignsUpdate","orgCampaigns","undefined","App","userObj","authService","confimationCode","categories","fetchUser","getRandomOrg","Math","floor","random","exact","path","render","Boolean","location","hostname","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.69420050.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default class AuthService {\n  constructor() {\n    this.URL =  process.env.REACT_APP_API_URL + \"/api/auth\";\n    this.service = axios.create({\n      baseURL: this.URL,\n      withCredentials: true\n    });\n  }\n\n  signup = (type, username, email, password) => {\n    return this.service\n      .post(\"/signup\", { type, username, email, password })\n      .then(response => response.data);\n  };\n\n  login = (username, password) => {\n    return this.service\n      .post(\"/login\", { username, password })\n      .then(response => response.data);\n  };\n\n  loggedin = () => {\n    return this.service.get(\"/currentUser\").then(response => response.data);\n  };\n\n  logout = () => {\n    return this.service.get(\"/logout\").then(response => response.data);\n  };\n}","import axios from \"axios\";\n\nexport default class SearchService {\n  constructor() {\n    this.URL = process.env.REACT_APP_API_URL + \"/api/search\";\n    this.service = axios.create({\n      baseURL: this.URL,\n      withCredentials: true\n    });\n  }\n\n  getSearchResults(searchTerm) {\n    return this.service\n      .get(`/${searchTerm}`)\n      .then(res => res.data);\n  }\n}","import axios from \"axios\";\n\nexport default class CategoryService {\n  constructor() {\n    this.URL =  process.env.REACT_APP_API_URL + \"/api/category\";\n    this.service = axios.create({\n      baseURL: this.URL,\n      withCredentials: true\n    });\n  }\n\n  getCategories = () => {\n    return this.service.get(\"/\").then(response => response.data);\n  };\n\n  getCategoryById = categoryId => {\n    return this.service.get(`/${categoryId}`).then(response => response.data);\n  };\n\n}","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport SearchService from \"../../services/SearchService\";\nimport CategoryService from \"../../services/CategoryService\";\n\n\nexport default class Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: \"\",\n      results: []\n    };\n    this.service = new SearchService();\n    this.categoryService = new CategoryService();\n  }\n\n  handleSubmit = searchTerm => {\n    this.service\n      .getSearchResults(searchTerm)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          results: response\n        });\n      })\n      .catch(err => {\n        this.setState({\n          ...this.state,\n          results: false\n        });\n      });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    }, () => this.handleSubmit(this.state.searchTerm));\n  };\n  render() {\n    return (\n      <div>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <div className=\"dropdown is-active\">\n            <div className=\"dropdown-trigger\">\n              <input\n                className=\"input\"\n                type=\"text\"\n                value={this.state.searchTerm}\n                placeholder=\"Buscar\"\n                name=\"searchTerm\"\n                onChange={e => this.handleChange(e)}\n              />\n            </div>\n            {this.state.results.length > 0 && \n            <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n              <div className=\"dropdown-content dc-nav\">\n                {this.state.results.map((result, i) => (\n                <Link key={i} to={result.uri} className=\"dropdown-item di-nav\">\n                  {result.title}\n  </Link>))}\n              </div>\n            </div>\n            }\n          </div>\n        </div>\n        <div className=\"control\">\n          <Link to=\"#\" className=\"button is-info\">\n            <span className=\"icon is-medium\">\n              <FontAwesomeIcon icon={faSearch} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </div>\n      </div>\n    </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport AuthService from \"../../services/AuthService\";\nimport { Link } from \"react-router-dom\";\nimport Search from \"./Search\";\n\nexport default class Navbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { loggedInUser: null };\n    this.service = new AuthService();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({ ...this.state, loggedInUser: nextProps[\"userInSession\"] });\n  }\n\n  handleLogout = e => {\n    this.props.logout();\n  };\n\n  render() {\n    if (this.state.loggedInUser) {\n      return (\n        <nav\n          className=\"navbar is-fixed-top is-light\"\n          role=\"navigation\"\n          aria-label=\"main navigation\"\n        >\n          <div className=\"navbar-brand\">\n            <Link className=\"navbar-item\" to=\"/\">\n              <img\n                alt=\"causa impacto logo\"\n                src=\"/images/logo.png\"\n                className=\"nav-logo\"\n              />\n            </Link>\n\n            <Link\n              to=\"#\"\n              role=\"button\"\n              className=\"navbar-burger burger\"\n              aria-label=\"menu\"\n              aria-expanded=\"false\"\n              data-target=\"navbarBasicExample\"\n            >\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n            </Link>\n          </div>\n\n          <div id=\"navbarBasicExample\" className=\"navbar-menu\">\n            <div className=\"navbar-start\">\n              <Link to=\"/\" className=\"navbar-item\">Inicio</Link>\n            </div>\n\n            <div className=\"navbar-end\">\n              <div className=\"navbar-item\">\n                <Search />\n              </div>\n              <div className=\"navbar-item has-dropdown is-hoverable\">\n                <Link to=\"#\" className=\"navbar-link\">\n                <figure className=\"image is-24x24 has-margin-right\">\n                  <img\n                    className = \"is-rounded\"\n                    src={this.state.loggedInUser.image ? this.state.loggedInUser.image : \"https://bulma.io/images/placeholders/24x24.png\"}\n                    alt={this.state.loggedInUser.username}\n                  />\n                </figure> {this.state.loggedInUser.username}\n                </Link>\n\n                <div className=\"navbar-dropdown\">\n                  <Link to=\"/home\" className=\"navbar-item\">Home</Link>\n                  <Link to={`/profile/${this.state.loggedInUser._id}`} className=\"navbar-item\">Mi perfil</Link>\n                  <Link to=\"/update\" className=\"navbar-item\">Mis datos</Link>\n                  <hr className=\"navbar-divider\" />\n                  <Link to=\"#\" className=\"navbar-item\" onClick={this.handleLogout}>\n                    Log out\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </nav>\n      );\n    } else {\n      return (\n        <nav\n          className=\"navbar is-fixed-top is-light\"\n          role=\"navigation\"\n          aria-label=\"main navigation\"\n        >\n          <div className=\"navbar-brand\">\n            <Link className=\"navbar-item\" to=\"/\">\n              <img\n                alt=\"causa impacto logo\"\n                src=\"/images/logo.png\"\n                className=\"nav-logo\"\n              />\n            </Link>\n\n            <Link\n              to=\"#\"\n              role=\"button\"\n              className=\"navbar-burger burger\"\n              aria-label=\"menu\"\n              aria-expanded=\"false\"\n              data-target=\"navbarBasicExample\"\n            >\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n              <span aria-hidden=\"true\"></span>\n            </Link>\n          </div>\n\n          <div id=\"navbarBasicExample\" className=\"navbar-menu\">\n            <div className=\"navbar-start\">\n              <Link to=\"/\" className=\"navbar-item\">Inicio</Link>\n\n  \n            </div>\n\n            <div className=\"navbar-end\">\n              <div className=\"navbar-item\">\n                <div className=\"buttons\">\n                  <Link className=\"button is-primary\" to=\"/signup\">\n                    Signup\n                  </Link>\n                  <Link className=\"button is-light\" to=\"/login\">\n                    Log in\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </nav>\n      );\n    }\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class FormButton extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            buttonClass: \"button is-link is-fullwidth is-normal\"\n        }\n    } \n    toggleClass() {\n        this.setState({ buttonClass: \"button is-link is-fullwidth is-normal is-loading\" });\n    }\n    render() {\n        return (\n            <div>\n                <button className={this.state.buttonClass} onClick={() => this.toggleClass()} type=\"submit\">{this.props.children}</button>\n            </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport FormButton from \"../form/FormButton\";\nimport AuthService from \"../../services/AuthService\";\nimport { withRouter } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faEnvelope, faLock } from '@fortawesome/free-solid-svg-icons';\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { type: \"donor\", username: \"\", email: \"\", password: \"\" };\n    this.service = new AuthService();\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const type = this.state.type;\n    const username = this.state.username;\n    const email = this.state.email;\n    const password = this.state.password;\n\n    this.service\n      .signup(type, username, email, password)\n      .then(response => {\n        this.setState({\n          type: \"\",\n          username: \"\",\n          email: \"\",\n          password: \"\"\n        });\n\n        this.props.getUser(response.user);\n        this.props.history.push(\"/home\");\n      })\n      .catch(error => {\n        this.setState({\n          type: type,\n          username: username,\n          email: email,\n          password: password,\n          error: true\n        });\n      });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <div className=\"columns is-centered\">\n        <div className=\"column\"></div>\n        <div className=\"column\">\n          <div className=\"card\">\n            <div className=\"card-content\">\n              <div className=\"content align-items-center\">\n                <h1 className=\"title\">Sign Up</h1>\n                <form onSubmit={this.handleFormSubmit}>\n                  <div className=\"field\">\n                    <label>Tipo de usuario:</label>\n                    <div className=\"control\">\n                      <div className=\"select\">\n                        <select\n                          className=\"select is-normal\"\n                          name=\"type\"\n                          value={this.state.type}\n                          onChange={e => this.handleChange(e)}\n                        >\n                          <option value=\"donor\">Cuenta personal</option>\n                          <option value=\"organization\">\n                            Cuenta para organización\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"field\">\n                    <label>Username:</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className=\"input is-normal\"\n                        type=\"text\"\n                        name=\"username\"\n                        value={this.state.username}\n                        onChange={e => this.handleChange(e)}\n                      />\n                      <span className=\"icon is-medium is-left\">\n                      <FontAwesomeIcon icon={faUser} aria-hidden=\"true\"/>\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"field\">\n                    <label>Email:</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className=\"input is-normal\"\n                        type=\"email\"\n                        name=\"email\"\n                        value={this.state.email}\n                        onChange={e => this.handleChange(e)}\n                      />\n                      <span className=\"icon is-medium is-left\">\n                      <FontAwesomeIcon icon={faEnvelope} aria-hidden=\"true\"/>\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"field\">\n                    <label>Password:</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className=\"input is-normal\"\n                        type=\"password\"\n                        name=\"password\"\n                        value={this.state.password}\n                        onChange={e => this.handleChange(e)}\n                      />\n                      <span className=\"icon is-medium is-left\">\n                      <FontAwesomeIcon icon={faLock} aria-hidden=\"true\"/>\n                      </span>\n                    </div>\n                    <p className=\"help\">Debe contener al menos 8 caracteres.</p>\n                  </div>\n\n                  <FormButton children=\"Sign Up\" />\n                </form>\n                <p className=\"help is-danger has-icons-right\">\n                  {this.state.error ? \"Error\" : \"\"}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"column\"></div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Signup);\n","import React, { Component } from \"react\";\nimport FormButton from \"../form/FormButton\";\nimport AuthService from \"../../services/AuthService\";\nimport { withRouter } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faLock } from '@fortawesome/free-solid-svg-icons';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { username: \"\", password: \"\" };\n    this.service = new AuthService();\n  }\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const username = this.state.username;\n    const password = this.state.password;\n\n    this.service\n      .login(username, password)\n      .then(response => {\n        this.setState({\n          username: username,\n          password: password,\n          error: false\n        });\n\n        this.props.getUser(response);\n        this.props.history.push(\"/home\");\n      })\n      .catch(error => {\n        this.setState({\n          username: username,\n          password: password,\n          error: true\n        });\n      });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <div className=\"columns is-centered\">\n        <div className=\"column\"></div>\n        <div className=\"column\">\n          <div className=\"card\">\n            <div className=\"card-content\">\n              <div className=\"content align-items-center\">\n                <h1 className=\"title\">Log In</h1>\n\n                <form onSubmit={this.handleFormSubmit}>\n                  <div className=\"field\">\n                    <label>Username:</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className=\"input is-normal\"\n                        type=\"text\"\n                        name=\"username\"\n                        title=\"username\"\n                        placeholder=\"username\"\n                        value={this.state.username}\n                        onChange={e => this.handleChange(e)}\n                        required\n                      />\n                      <span className=\"icon is-medium is-left\">\n                      <FontAwesomeIcon icon={faUser} aria-hidden=\"true\"/>\n                      </span>\n                    </div>\n                  </div>\n\n                  <div className=\"field\">\n                    <label>Password:</label>\n                    <div className=\"control has-icons-left\">\n                      <input\n                        className=\"input is-normal\"\n                        type=\"password\"\n                        name=\"password\"\n                        title=\"password\"\n                        placeholder=\"password\"\n                        value={this.state.password}\n                        onChange={e => this.handleChange(e)}\n                        required\n                      />\n                      <span className=\"icon is-medium is-left\">\n                      <FontAwesomeIcon icon={faLock} aria-hidden=\"true\"/>\n                      </span>\n                    </div>\n                  </div>\n\n                  <FormButton children=\"Login\" />\n                </form>\n\n                <h3>{this.state.error ? \"Error\" : \"\"}</h3>\n                </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"column\"></div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faEdit, faUserSlash } from '@fortawesome/free-solid-svg-icons';\n\nexport default class ProfileSettings extends Component {\n  render() {\n    return (\n        <div className=\"card has-margin-2\">\n          <div className=\"card-content\">\n            <h2 className=\"title\">\n              Tu perfil\n            </h2>\n          </div>\n          <div className=\"card-content\">\n            <div className=\"media\">\n              <div className=\"media-left\">\n                <figure className=\"image is-128x128\">\n                  <img\n                    className=\"is-rounded\"\n                    src={this.props.userData.image ? this.props.userData.image : \"https://bulma.io/images/placeholders/128x128.png\"}\n                    alt={this.props.userData.userFirstname}\n                  />\n                </figure>\n              </div>\n              <div className=\"media-content\">\n                {this.props.userData.userFirstname && this.props.userData.userSurname ? \n                  <div><p className=\"title is-4\">{this.props.userData.userFirstname} {this.props.userData.userSurname}</p>\n                  <p className=\"subtitle is-6\">@{this.props.userData.username}</p>\n                  </div> :\n                  <p className=\"title is-4\">@{this.props.userData.username}</p>\n              }\n              </div>\n            </div>\n          </div>\n          <div className=\"card-content\">\n          <div className=\"buttons\">\n          <Link to={`/profile/${this.props.userData._id}`} className=\"button is-link\"><span className=\"icon is-medium\" aria-hidden=\"true\">\n            <FontAwesomeIcon icon={faUser} aria-hidden=\"true\"/>\n            </span> <span>Perfil público</span></Link>\n          <Link to='/update' className=\"button is-link\">\n          <span className=\"icon is-medium\" aria-hidden=\"true\">\n            <FontAwesomeIcon icon={faEdit} aria-hidden=\"true\"/>\n            </span> <span>Actualiza tu perfil</span></Link>\n          <Link to=\"#\" className=\"button is-danger\"><span className=\"icon is-medium\" aria-hidden=\"true\"><FontAwesomeIcon icon={faUserSlash} aria-hidden=\"true\"/>\n            </span> <span>Desactiva tu cuenta</span></Link>\n          </div>\n          </div>\n        </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class SuggestedOrg extends Component {\n  render() {\n    return (\n        <div className=\"card has-margin-2\">\n          <div className=\"card-content\">\n            <h3 className=\"title\">Quizá te interese...</h3>\n            <div className=\"media\">\n              <div className=\"media-left\">\n                <figure className=\"image is-128x128\">\n                  <img\n                    src={\n                      this.props.randomOrg.image\n                        ? this.props.randomOrg.image\n                        : \"https://bulma.io/images/placeholders/128x128.png\"\n                    }\n                    alt={this.props.randomOrg.orgName}\n                  />\n                </figure>\n              </div>\n              <div className=\"media-content\">\n                <h5 className=\"title is-5 txt-is-orange\">\n                  {this.props.randomOrg.orgName}\n                </h5>\n                <p>{this.props.randomOrg.orgDescription}</p>\n                <Link to={`/profile/${this.props.randomOrg._id}`} className=\"button is-primary is-fullwidth has-margin-2\">Ver campañas actuales</Link>\n              </div>\n            </div>\n          </div>\n        </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class DonationList extends Component {\n  render() {\n    \n    return (\n      <React.Fragment>\n        {Array.isArray(this.props.donations) ? this.props.donations.map((donation,i)=><li key={i} className=\"has-margin-1\">Has donado {donation.amountDonated}€ a <Link to={donation.org?`/profile/${donation.org._id}`:`/campaign/${donation.campaign._id}`}>\n        {donation.org?donation.org.orgName:donation.campaign.title}\n        </Link></li>):null}\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class Category extends Component {\n  constructor(props){\n    super(props);\n    let categorySelected = this.props.userData.userInterests.includes(this.props.id)\n    let buttonSelected, buttonClass;\n    if (categorySelected) {\n      buttonSelected = true;\n      buttonClass = \"button is-primary\"\n    } else {\n      buttonSelected = false;\n      buttonClass = \"button is-outlined\"\n    }\n    this.state = {\n      buttonSelected: buttonSelected,\n      buttonClass: buttonClass\n    }\n  }\n\n  toggleButtonClass() {\n    if(!this.state.buttonSelected) {\n      this.setState({\n        buttonSelected: true,\n        buttonClass: \"button is-primary\"\n      })\n    } else {\n      this.setState({\n        buttonSelected: false,\n        buttonClass: \"button is-outlined\"\n      })\n    }\n\n    this.props.toggleInterest(this.props.id)\n  }\n\n  render() {\n    \n    return (\n      <div className=\"column category is-5\">\n        <div className=\"align-items-center\">\n          <figure className=\"image is-96x96\">\n            <img src={this.props.image} alt={this.props.name} />\n          </figure>\n        </div>\n        \n          <div className=\"align-items-center\">\n            <p className=\"title is-4\">{this.props.name}</p>\n\n            <button id={this.props.id} className={this.state.buttonClass} onClick={() => this.toggleButtonClass()}>\n              <span className=\"icon is-medium\">\n                <FontAwesomeIcon icon={faHeart} aria-hidden=\"true\" />\n              </span>\n            </button>\n          </div>\n        </div>\n      \n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class Notification extends Component {\n  render() {\n    return (\n      <div\n        className={this.props.notification ? \"hide\" : \"notification is-warning\"}\n      >\n        <button className=\"delete\" onClick={() => this.props.toggleClass()}></button>\n        <p>\n          Te hemos enviado un email para que verifiques tu cuenta. Por favor,\n          comprueba tu correo y haz click en el enlace enviado.\n        </p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faUser, faEdit, faUserSlash } from '@fortawesome/free-solid-svg-icons';\n\nexport default class OrganizationSettings extends Component {\n  render() {\n    return (\n      <div className=\"column\">\n        <div className=\"card\">\n          <div className=\"card-content\">\n            <h2 className=\"title\">\n                Tu cuenta\n            </h2>\n          </div>\n          <div className=\"card-content\">\n            <div className=\"media\">\n              <div className=\"media-left\">\n                <figure className=\"image is-128x128\">\n                  <img\n                    src={this.props.userData.image}\n                    alt={this.props.userData.orgName}\n                  />\n                </figure>\n              </div>\n              <div className=\"media-content\">\n                <p className=\"title is-4\">\n                  {this.props.userData.orgName}\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"card-content\">\n          <div className=\"buttons\">\n          <Link to={`/profile/${this.props.userData._id}`} className=\"button is-link\"><span className=\"icon is-medium\" aria-hidden=\"true\">\n            <FontAwesomeIcon icon={faUser} aria-hidden=\"true\"/>\n            </span> <span>Perfil público</span></Link>\n          <Link to='/update' className=\"button is-link\">\n          <span className=\"icon is-medium\" aria-hidden=\"true\">\n            <FontAwesomeIcon icon={faEdit} aria-hidden=\"true\"/>\n            </span> <span>Actualiza tu perfil</span></Link>\n          <Link to=\"#\" className=\"button is-danger\"><span className=\"icon is-medium\" aria-hidden=\"true\"><FontAwesomeIcon icon={faUserSlash} aria-hidden=\"true\"/>\n            </span> <span>Desactiva tu cuenta</span></Link>\n          </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faFlag } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class CampaignItem extends Component {\n  deleteCampaign = id => {\n    this.setState({\n      ...this.state,\n      campaigns: this.state.campaigns.filter(\n        id => this.state.campaigns._id !== id\n      )\n    });\n  };\n\n  render() {\n    return (\n      <li className=\"has-margin-2\">\n        <h4 className=\"title is-4\">\n        <Link to={`/campaign/${this.props.campaign._id}`}><span className=\"icon is-medium\">\n            <FontAwesomeIcon icon={faFlag} size=\"xs\" aria-hidden=\"true\" />\n          </span>\n          <span>{this.props.campaign.title}</span></Link>\n        </h4>\n        <div className=\"buttons\">\n          <Link\n            to={\"/campaign/edit/\" + this.props.campaign._id}\n            className=\"button is-primary\"\n          >\n            Editar campaña\n          </Link>\n          <Link\n            to=\"#\"\n            className=\"button is-primary\"\n            onChange={() => this.deleteCampaign(this.props.campaign.id)}\n          >\n            Borrar campaña\n          </Link>\n        </div>\n      </li>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport default class CampaignService {\n  constructor() {\n    this.URL = process.env.REACT_APP_API_URL + \"/api/campaign\";\n    this.service = axios.create({\n      baseURL: this.URL,\n      withCredentials: true\n    });\n  }\n\n  addCampaign = (title, description, deadline, status, fundraisingTarget, suggestedDonations, organization) => {\n    return this.service\n    .post(\"/add\", {title, description, deadline, status, fundraisingTarget, suggestedDonations, organization})\n    .then(response => response.data);\n  };\n\n  getOrgCampaigns = UserObjId => {\n    return this.service\n      .get(`/o/${UserObjId}`)\n      .then(response => response.data);\n  };\n\n  getCampaign = CampaignId => {\n    return this.service\n    .get(CampaignId)\n    .then(response => response.data)\n  };\n\n  updateCampaign = (campaignId, CampaignObj) => {\n    return this.service\n    .put(`/update/${campaignId}`, CampaignObj)\n    .then(response => response.data);\n  };\n\n  handleUpload(theFile) {\n    return this.service.post(\"/upload\", theFile).then(res => res.data);\n  }\n\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport CampaignItem from \"./CampaignItem\";\nimport CampaignService from \"../../../services/CampaignService\";\n\n\nexport default class CampaignControls extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      campaigns: []\n    };\n    this.campaignService = new CampaignService();\n  }\n\n  componentDidMount() {\n    this.getOrgCampaigns(this.props.userData._id);\n  }\n\n  getOrgCampaigns(userId) {\n    return this.campaignService\n      .getOrgCampaigns(userId)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          campaigns: response\n        });\n      })\n      .catch(err => {\n        this.setState({\n          ...this.state,\n          campaigns: false\n        });\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"column\">\n        <div className=\"card\">\n          <div className=\"card-content\">\n            <h3 className=\"title\">Gestionar campañas</h3>\n            <Link to=\"/addcampaign\" className=\"button is-primary is-large has-margin-3\">\n              Crear nueva campaña\n            </Link>\n            <h3 className=\"title\">Campañas activas</h3>\n            <ul>\n              {this.state.campaigns.map((campaign, i) => (\n                <CampaignItem key={i} campaign={campaign}></CampaignItem>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nexport default class UserList extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      donors: this.props.donors\n    \n    }\n  }\n\n  render() {\n    let obj = {};\n    for (let i=0; i < this.props.donors.length; i++) { obj[this.props.donors[i]['_id']] = this.props.donors[i]; }\n    let donors = [];\n    for ( var key in obj )\n    donors.push(obj[key]);\n\n    return (\n      <div className=\"column is-one-third\">\n        <div className=\"card\">\n          <div className=\"card-content\">\n            <h3 className=\"title\">Donantes</h3>\n            <p>Los siguientes usuarios han dado su consentimiento para ser contactados.</p>\n            <ul>\n        {Array.isArray(this.props.donors) ? donors.map((donor, i)=><li className=\"has-margin-1 donor-list\" key={i}>\n          <span className=\"is-bold\">{donor.userFirstname} {donor.userSurname}</span> <a href={`mailto:${donor.email}`} className=\"button is-primary\">Email</a>\n        </li>):null}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\n\nexport default class UserService {\n  constructor() {\n    this.URL = process.env.REACT_APP_API_URL + \"/api/user\";\n    this.service = axios.create({\n      baseURL: this.URL,\n      withCredentials: true\n    });\n  }\n\n  getOrg = () => {\n    return this.service.get(\"/\").then(response => response.data);\n  };\n\n  updateUser = updatedUserObj => {\n    return this.service\n      .put(`/update/${updatedUserObj._id}`, updatedUserObj)\n      .then(response => response.data);\n  };\n\n  handleUpload(theFile) {\n    return this.service.post(\"/upload\", theFile).then(res => res.data);\n  }\n\n  getUser = id => {\n    return this.service.get(`/${id}`).then(response => response.data);\n  };\n\n  getOrgDonationsById = () => {\n    return this.service.get(\"/o/donations\").then(response => response.data);\n  };\n\n  getCampaignDonationsById = () => {\n    return this.service.get(\"/c/donations\").then(response => response.data);\n  };\n\n  getCampaignDonationsById = () => {\n    return this.service.get(\"/c/donations\").then(response => response.data);\n  };\n\n  getOrgByCategory = categoryId => {\n    return this.service.get(`/category/${categoryId}`).then(response => response.data);\n  }\n\n}\n","import axios from \"axios\";\n\nexport default class DonationService {\n  constructor() {\n    this.URL = process.env.REACT_APP_API_URL + \"/api/donation\";\n    this.service = axios.create({\n      baseURL: this.URL,\n      withCredentials: true\n    });\n  }\n\n  addOrgDonation(donation) {\n    let donorId = donation.user;\n    let orgId = donation.org;\n    return this.service\n      .post(`/o/${donorId}/${orgId}`, donation)\n      .then(res => res.data);\n  }\n\n  addCampaignDonation(donation) {\n    let donorId = donation.user;\n    let campaignId = donation.campaign;\n    return this.service\n      .post(`/c/${donorId}/${campaignId}`, donation)\n      .then(res => res.data);\n  }\n\n  addComment(donationId, comment) {\n    return this.service.put(`/comment/${donationId}`, { comment: comment }).then(res => res.data);\n  }\n\n  getDonors() {\n    return this.service.get(\"/\").then(res => res.data);\n  }\n\n  getOrgDonations(idOrg) {\n    return this.service.get(`/o/${idOrg}`).then(res => res.data);\n  }\n\n  getCampaignDonations(idCampaign) {\n    return this.service.get(`/c/${idCampaign}`).then(res => res.data);\n  }\n}\n","import React, { Component } from \"react\";\nimport ProfileSettings from \"./donor/ProfileSettings\";\nimport SuggestedOrg from \"./donor/SuggestedOrg\";\nimport DonationList from \"./donor/DonationList\";\nimport Category from \"./donor/Category\";\nimport Notification from \"../notification/Notification\";\nimport OrganizationSettings from \"./organization/OrganizationSettings\";\nimport CampaignControls from \"./organization/CampaignControls\";\nimport UserList from \"./organization/UserList\";\nimport UserService from \"../../services/UserService\";\nimport DonationService from \"../../services/DonationService\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedUser: this.props.userInSession,\n      notification: null,\n      prueba: \"\",\n      category: [],\n      index: 0,\n      donations: [],\n      donors: []\n    };\n    this.userService = new UserService();\n    this.donationService = new DonationService();\n  }\n\n  componentDidMount() {\n    this.getUserDonations()\n    this.getDonors()\n  }\n\n  getDonors() {\n    return this.donationService.getDonors().then(resp => {\n      let userList = resp.filter(user => user.contactConsent).map(donation => donation.user);  \n      this.setState({\n        ...this.state,\n        donors: userList\n      });\n    })\n  }\n\n  getUserDonations() {\n    let organizations = this.userService\n      .getOrgDonationsById();\n    let campaigns = this.userService\n      .getCampaignDonationsById();\n    return Promise.all([organizations, campaigns])\n      .then(data => {\n        let Donations = [];\n        let allDonations = Donations.concat(...data);\n        allDonations.sort(function(a, b) {\n          return new Date(b.created_at) - new Date(a.created_at);\n        });\n        this.setState({\n          ...this.state,\n          donations: allDonations\n        });\n      })\n      .catch(err => console.log(err));\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (!!props.userInSession) {\n      let notification;\n      props.userInSession.status === \"active\"\n        ? (notification = true)\n        : (notification = false);\n      return (\n        (state.loggedUser = props.userInSession),\n        (state.notification = notification),\n        (state.category = props.categoryList)\n      );\n    }\n    return null;\n  }\n\n  toggleClass = () => this.setState({ notification: true });\n\n  toggleInterest = id => {\n    let interests = this.state.loggedUser.userInterests;\n\n    if (interests.includes(id)) {\n      interests.splice(interests.indexOf(id), 1);\n    } else {\n      interests.push(id);\n    }\n\n    let updatedUser = {\n      ...this.state.loggedUser,\n      userInterests: interests\n    };\n\n    this.setState({\n      ...this.state,\n      loggedUser: updatedUser\n    });\n\n    this.updateUser(updatedUser);\n  };\n\n  updateUser(updatedUserObj) {\n    return this.userService\n      .updateUser(updatedUserObj)\n      .then()\n      .catch();\n  }\n\n  handleCarousel(event) {\n    if (!!event) {\n      if (this.state.index >= 16) this.setState({ ...this.state, index: 0 });\n      else this.setState({ ...this.state, index: this.state.index + 2 });\n    } else {\n      if (this.state.index <= 0) this.setState({ ...this.state, index: 16 });\n      else this.setState({ ...this.state, index: this.state.index - 2 });\n    }\n  }\n\n  render() {\n    let { index, category } = this.state;\n    if (this.props.userInSession) {\n      if (this.state.loggedUser.type === \"donor\" && !!category[0]) {\n        return (\n          <div>\n            <Notification\n              toggleClass={this.toggleClass}\n              notification={this.state.notification}\n            />\n            <div className=\"columns\">\n            <div className=\"column is-one-third\">\n              <ProfileSettings userData={this.state.loggedUser} />\n              <div className=\"card\">\n                <div className=\"card-content\">\n                  <h3 className=\"title\">Tus donaciones</h3>\n                  <ul>\n                    {Array.isArray(this.state.donations) ? (\n                      <DonationList donations={this.state.donations} />\n                    ) : null}\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div className=\"column\">\n              <SuggestedOrg randomOrg={this.props.randomOrg} />\n        \n              <div className=\"card\">\n                <div className=\"card-content\">\n                  <h3 className=\"title\">¿Qué causas te interesan?</h3>\n                  <div className=\"columns categories\">\n                    <div className=\"column is-1\">\n                      <button\n                        className=\"button is-primary\"\n                        onClick={() => this.handleCarousel(false)}\n                      >\n                        <span className=\"icon is-large\">\n                          <FontAwesomeIcon\n                            icon={faArrowLeft}\n                            aria-hidden=\"true\"\n                            size=\"2x\"\n                          />\n                        </span>\n                      </button>\n                    </div>\n        \n                    <Category\n                      key={index}\n                      id={category[index]._id}\n                      name={category[index].name}\n                      image={category[index].image}\n                      userData={this.state.loggedUser}\n                      toggleInterest={this.toggleInterest}\n                    ></Category>\n                    <Category\n                      key={index + 1}\n                      id={category[index + 1]._id}\n                      name={category[index + 1].name}\n                      image={category[index + 1].image}\n                      userData={this.state.loggedUser}\n                      toggleInterest={this.toggleInterest}\n                    ></Category>\n        \n                    <div className=\"column is-1\">\n                      <button\n                        className=\"button is-primary\"\n                        onClick={() => this.handleCarousel(true)}\n                      >\n                        <span className=\"icon is-large\">\n                          <FontAwesomeIcon\n                            icon={faArrowRight}\n                            aria-hidden=\"true\"\n                            size=\"2x\"\n                          />\n                        </span>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          </div>\n        );\n        \n      } else {\n        return (\n          <div>\n            <Notification\n              toggleClass={this.toggleClass}\n              notification={this.state.notification}\n            />\n            <div className=\"columns\">\n              <OrganizationSettings userData={this.state.loggedUser} />\n            </div>\n            <div className=\"columns\">\n            {Array.isArray(this.state.donors) ? (\n                        <UserList donors={this.state.donors} />\n                      ) : null}\n              <CampaignControls userData={this.state.loggedUser} />\n            </div>\n          </div>\n        );\n      }\n    } else {\n      return <div></div>;\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class Address extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      line1: props.line1,\n      line2: props.line2,\n      city: props.city,\n      stateOrProvince: props.stateOrProvince,\n      postalCode: props.postalCode,\n      country: props.country,\n      openTab: true,\n      expand: faAngleDown,\n      cardClass: \"card-content hide\"\n    };\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  };\n\n  toggleCardClass() {\n    if (!this.state.openTab) {\n      this.setState({\n        ...this.state,\n        openTab: true,\n        expand: faAngleDown,\n        cardClass: \"card-content hide\"\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        openTab: false,\n        expand: faAngleUp,\n        cardClass: \"card-content\"\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">Dirección</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\">\n              <FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <div className=\"content\">\n            <form>\n              <div className=\"field\">\n                <label className=\"label\">Línea 1:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"line1\"\n                    value={this.state.line1}\n                    placeholder=\"Calle...\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Línea 2:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"line2\"\n                    value={this.state.line2}\n                    placeholder=\"Piso/Escalera...\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Ciudad:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"city\"\n                    placeholder=\"Ciudad\"\n                    value={this.state.city}\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Provincia:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"stateOrProvince\"\n                    placeholder=\"Provincia\"\n                    value={this.state.stateOrProvince}\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Código postal:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"postalCode\"\n                    placeholder=\"Código Postal\"\n                    value={this.state.postalCode}\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">País:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"country\"\n                    placeholder=\"País\"\n                    value={this.state.country}\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"button is-link\"\n                onClick={() => this.props.handleUpdateSubmit(this.state)}\n                type=\"submit\"\n              >\n                Actualizar\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class FullName extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userFirstname: props.firstname,\n      userLastname: props.surname,\n      openTab: true,\n      expand: faAngleDown,\n      cardClass: \"card-content hide\"\n    };\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  };\n\n  toggleCardClass() {\n    if (!this.state.openTab) {\n      this.setState({\n        ...this.state,\n        openTab: true,\n        expand: faAngleDown,\n        cardClass: \"card-content hide\"\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        openTab: false,\n        expand: faAngleUp,\n        cardClass: \"card-content\"\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">Nombre completo</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\">\n              <FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <div className=\"content\">\n            <form>\n              <div className=\"field\">\n                <label className=\"label\">Nombre:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"userFirstname\"\n                    type=\"text\"\n                    value={this.state.userFirstname}\n                    placeholder=\"Nombre\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Apellidos:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"userLastname\"\n                    type=\"text\"\n                    value={this.state.userLastname}\n                    placeholder=\"Apellidos\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"button is-link\"\n                onClick={() => this.props.handleUpdateSubmit(this.state)}\n                type=\"submit\"\n              >\n                Actualizar\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class OrganizationContact extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgContactPerson: props.contactPerson,\n      orgTelephone: props.telephone,\n      orgEmail: props.email,\n      orgUrl: props.url,\n      openTab: true,\n      expand: faAngleDown,\n      cardClass: \"card-content hide\"\n    };\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  };\n\n  toggleCardClass() {\n    if (!this.state.openTab) {\n      this.setState({\n        ...this.state,\n        openTab: true,\n        expand: faAngleDown,\n        cardClass: \"card-content hide\"\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        openTab: false,\n        expand: faAngleUp,\n        cardClass: \"card-content\"\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">Datos de contacto</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\">\n              <FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <div className=\"content\">\n            <form>\n              <div className=\"field\">\n                <label className=\"label\">Persona de contacto:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"orgContactPerson\"\n                    type=\"text\"\n                    value={this.state.orgContactPerson}\n                    placeholder=\"Nombre Apellidos\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n\n                <span className=\"help\">\n                  <p>\n                    Este campo <span className=\"txt-is-violet is-bold\">NO</span>{\" \"}\n                    será visible públicamente.{\" \"}\n                    <span className=\"txt-is-orange is-bold\">causa</span>\n                    <span className=\"txt-is-blue is-bold\">impacto</span> lo\n                    utilizará solo para verificar datos.\n                  </p>\n                </span>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Teléfono público:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"orgTelephone\"\n                    type=\"text\"\n                    value={this.state.orgTelephone}\n                    placeholder=\"+34...\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Email público:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"orgEmail\"\n                    type=\"email\"\n                    value={this.state.orgEmail}\n                    placeholder=\"nombre@email.com\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Dirección web:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    name=\"orgUrl\"\n                    type=\"url\"\n                    value={this.state.orgUrl}\n                    placeholder=\"http://www.tusitio.com\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"button is-link\"\n                onClick={() => this.props.handleUpdateSubmit(this.state)}\n                type=\"submit\"\n              >\n                Actualizar\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default class OrganizationDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgName: props.name,\n      orgDescription: props.description,\n      orgRegistrar: props.registrar,\n      orgLicense: props.license,\n      openTab: true,\n      expand: faAngleDown,\n      cardClass: \"card-content hide\"\n    };\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  };\n\n  toggleCardClass() {\n    if (!this.state.openTab) {\n      this.setState({\n        ...this.state,\n        openTab: true,\n        expand: faAngleDown,\n        cardClass: \"card-content hide\"\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        openTab: false,\n        expand: faAngleUp,\n        cardClass: \"card-content\"\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">Datos de la organización</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\">\n              <FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <div className=\"content\">\n            <form>\n              <div className=\"field\">\n                <label className=\"label\">Nombre:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"orgName\"\n                    value={this.state.orgName}\n                    placeholder=\"Nombre\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Descripción:</label>\n                <div className=\"control\">\n                  <textarea\n                    className=\"textarea\"\n                    name=\"orgDescription\"\n                    onChange={e => this.handleChange(e)}\n                    value={this.state.orgDescription}\n                    placeholder=\"Descripción breve de la misión, los valores y los objetivos de la organización.\"\n                  ></textarea>\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Lugar de registro:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"orgRegistrar\"\n                    value={this.state.orgRegistrar}\n                    placeholder=\"Lugar de registro de la asociación, fundación...\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Número de registro:</label>\n                <div className=\"control\">\n                  <input\n                    className=\"input\"\n                    type=\"text\"\n                    name=\"orgLicense\"\n                    value={this.state.orgLicense}\n                    placeholder=\"Número de registro\"\n                    onChange={e => this.handleChange(e)}\n                  />\n                </div>\n              </div>\n              <button\n                className=\"button is-link\"\n                onClick={() => this.props.handleUpdateSubmit(this.state)}\n                type=\"submit\"\n              >\n                Actualizar\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faAngleDown,\n  faAngleUp,\n  faUpload\n} from \"@fortawesome/free-solid-svg-icons\";\nimport UserService from \"../../../services/UserService\";\n\nexport default class Image extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openTab: true,\n      expand: faAngleDown,\n      cardClass: \"card-content hide\"\n    };\n    this.userService = new UserService();\n  }\n\n  handleUpload = e => {\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", e.target.files[0]);\n\n    this.userService\n      .handleUpload(uploadData)\n      .then(response => {\n        this.setState({ ...this.state, imageUrl: response.secure_url });\n      })\n      .catch(err => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  toggleCardClass() {\n    if (!this.state.openTab) {\n      this.setState({\n        ...this.state,\n        openTab: true,\n        expand: faAngleDown,\n        cardClass: \"card-content hide\"\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        openTab: false,\n        expand: faAngleUp,\n        cardClass: \"card-content\"\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">{this.props.title}</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\">\n              <FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <form>\n            <div className=\"file\">\n              <label className=\"file-label\">\n                <input\n                  className=\"file-input\"\n                  type=\"file\"\n                  onChange={e => this.handleUpload(e)}\n                />\n                <span className=\"file-cta\">\n                  <span className=\"file-icon\">\n                    <FontAwesomeIcon icon={faUpload} aria-hidden=\"true\" />\n                  </span>\n                  <span className=\"file-label\">Selecciona un archivo...</span>\n                </span>\n              </label>\n            </div>\n            <div className={this.state.imageUrl ? \"has-margin-1\" : \"hide\"}>\n              {\" \"}\n              <figure className=\"image is-128x128\">\n                <img src={this.state.imageUrl} alt=\"Imagen subida\" />\n              </figure>\n              <p>Si estás satisfecho con la imagen, pulsa \"Actualizar\".</p>\n            </div>\n            <button\n              className=\"button is-link\"\n              onClick={() => this.props.handleUpdateSubmit(this.state.imageUrl)}\n              type=\"submit\"\n            >\n              Actualizar\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Address from \"./forms/Address\";\nimport FullName from \"./forms/FullName\";\nimport OrganizationContact from \"./forms/OrganizationContact\";\nimport OrganizationDetails from \"./forms/OrganizationDetails\";\nimport UserService from \"../../services/UserService\";\nimport Image from \"./forms/Image\";\n\nexport default class Update extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.userService = new UserService();\n  }\n\n  handleAddressSubmit = updateFormValues => {\n    let updatedUser = {\n      ...this.props.userInSession,\n      address: { ...updateFormValues }\n    };\n\n    this.updateUser(updatedUser);\n  };\n\n  handleFullNameSubmit = updateFormValues => {\n    let updatedUser = {\n      ...this.props.userInSession,\n      userFirstname: updateFormValues.userFirstname,\n      userSurname: updateFormValues.userSurname\n    };\n\n    this.updateUser(updatedUser);\n  };\n\n  handleOrgContactSubmit = updateFormValues => {\n    let updatedUser = {\n      ...this.props.userInSession,\n      orgContactPerson: updateFormValues.orgContactPerson,\n      orgTelephone: updateFormValues.orgTelephone,\n      orgEmail: updateFormValues.orgEmail,\n      orgUrl: updateFormValues.orgUrl\n    };\n\n    this.updateUser(updatedUser);\n  };\n\n  handleOrgDetailsSubmit = updateFormValues => {\n    let updatedUser = {\n      ...this.props.userInSession,\n      orgName: updateFormValues.orgName,\n      orgDescription: updateFormValues.orgDescription,\n      orgRegistrar: updateFormValues.orgRegistrar,\n      orgLicense: updateFormValues.orgLicense\n    };\n\n    this.updateUser(updatedUser);\n  };\n\n  handleImageSubmit = imageUrl => {\n    let updatedUser = {\n      ...this.props.userInSession,\n      image: imageUrl\n    };\n\n    this.updateUser(updatedUser);\n  };\n\n  updateUser(updatedUserObj) {\n    return this.userService\n      .updateUser(updatedUserObj)\n      .then()\n      .catch();\n  }\n\n  render() {\n    if (this.props.userInSession) {\n      if (this.props.userInSession.type === \"donor\") {\n        return (\n          <div className=\"columns is-centered\">\n            <div className=\"column\">\n              <h1 className=\"title\">Actualiza tus datos</h1>\n              <div>\n                <p>\n                  Despliega cada sección haciendo click en la esquina superior\n                  derecha. Cumplimenta solo aquellos campos que quieras\n                  actualizar.\n                </p>\n              </div>\n              <Image\n                title=\"Imagen de perfil\"\n                handleUpdateSubmit={this.handleImageSubmit}\n              />\n              <FullName\n                firstname={this.props.userInSession.userFirstname}\n                surname={this.props.userInSession.userSurname}\n                handleUpdateSubmit={this.handleFullNameSubmit}\n              />\n              <Address\n                line1={this.props.userInSession.address.line1}\n                line2={this.props.userInSession.address.line2}\n                city={this.props.userInSession.address.city}\n                stateOrProvince={\n                  this.props.userInSession.address.stateOrProvince\n                }\n                postalCode={this.props.userInSession.address.postalCode}\n                country={this.props.userInSession.address.country}\n                handleUpdateSubmit={this.handleAddressSubmit}\n              />\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"columns is-centered\">\n            <div className=\"column\">\n              <h1 className=\"title\">Actualiza tus datos</h1>\n              <div>\n                <p>\n                  Despliega cada sección haciendo click en la esquina superior\n                  derecha. Cumplimenta solo aquellos campos que quieras\n                  actualizar.\n                </p>\n              </div>\n              <Image\n                title=\"Logo de la organización\"\n                handleUpdateSubmit={this.handleImageSubmit}\n              />\n              <OrganizationDetails\n                name={this.props.userInSession.orgName}\n                description={this.props.userInSession.orgDescription}\n                registrar={this.props.userInSession.orgRegistrar}\n                license={this.props.userInSession.orgLicense}\n                handleUpdateSubmit={this.handleOrgDetailsSubmit}\n              />\n              <Address\n                line1={this.props.userInSession.address.line1}\n                line2={this.props.userInSession.address.line2}\n                city={this.props.userInSession.address.city}\n                stateOrProvince={\n                  this.props.userInSession.address.stateOrProvince\n                }\n                postalCode={this.props.userInSession.address.postalCode}\n                country={this.props.userInSession.address.country}\n                handleUpdateSubmit={this.handleAddressSubmit}\n              />\n              <OrganizationContact\n                contactPerson={this.props.userInSession.orgContactPerson}\n                telephone={this.props.userInSession.orgTelephone}\n                email={this.props.userInSession.orgEmail}\n                url={this.props.userInSession.orgUrl}\n                handleUpdateSubmit={this.handleOrgContactSubmit}\n              />\n            </div>\n          </div>\n        );\n      }\n    } else {\n      return <h1>Redirecciona a login</h1>;\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\n\nexport default class Comment extends Component {\n  render() {\n    return (\n      <div className=\"card column comments\">\n        <div className=\"card-content\">\n          <div className=\"media\">\n            <div className=\"media-left\">\n              <figure className=\"image is-96x96\">\n                {this.props.anonymous ? (\n                  <img\n                    src=\"https://bulma.io/images/placeholders/96x96.png\"\n                    alt=\"Anónimo\"\n                  />\n                ) : (\n                  <img src={this.props.image} alt={this.props.firstname} />\n                )}\n              </figure>\n            </div>\n            <div className=\"media-content\">\n              {this.props.anonymous ? (\n                <p className=\"title is-5\">Anónimo</p>\n              ) : (\n                <p className=\"title is-4\">\n                  {this.props.firstname} {this.props.surname}\n                </p>\n              )}\n              <p>\n                Ha donado {this.props.amount}€<br />\n                <time>{moment(this.props.date).format(\"DD/MM/YYYY\")}</time>\n              </p>\n            </div>\n          </div>\n\n          <div className=\"content\">{this.props.comment}</div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class CampaignBlurb extends Component {\n  render() {\n    return (\n      <div className=\"card column is-3\">\n        <div className=\"card-content blurb\">\n          <div className=\"content\">\n            <figure className=\"image\">\n              <img\n                className=\"blurb-image\"\n                src={this.props.image}\n                alt={this.props.title}\n              />\n            </figure>\n          </div>\n          <div className=\"content blurb-text-size\">\n            <p className=\"title is-4\">{this.props.title}</p>\n          </div>\n          <Link\n              to={`/campaign/${this.props.id}`}\n              className=\"button is-primary is-fullwidth final\"\n            >\n              Ver campaña\n            </Link>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport UserService from \"../../services/UserService\";\nimport DonationService from \"../../services/DonationService\";\nimport CampaignService from \"../../services/CampaignService\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faDonate,\n  faGlobe,\n  faEnvelope,\n  faPhoneSquareAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport Comment from \"../comment/Comment\";\nimport CampaignBlurb from \"./organization/CampaignBlurb\";\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.userService = new UserService();\n    this.donationService = new DonationService();\n    this.campaignService = new CampaignService();\n    this.state = {\n      profile: {},\n      type: \"\", //user.type\n      user: {},\n      comments: [],\n      campaigns: []\n    };\n  }\n\n  componentDidMount() {\n    this.getProfileUser();\n    this.getOrgDonations();\n    this.getOrgCampaigns();\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (!!props.userInSession) {\n      return (\n        (state.user = props.userInSession),\n        (state.type = props.userInSession.type)\n      );\n    }\n    return null;\n  }\n\n  getOrgCampaigns() {\n    return this.campaignService\n      .getOrgCampaigns(this.props.match.params.id)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          campaigns: response\n        });\n      })\n      .catch(err => {\n        this.setState({\n          ...this.state,\n          campaigns: false\n        });\n      });\n  }\n\n  getOrgDonations() {\n    this.donationService\n      .getOrgDonations(this.props.match.params.id)\n      .then(response => {\n        let comments = response\n          .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n          .slice(0, 4);\n        this.setState({\n          ...this.state,\n          comments: comments\n        });\n      });\n  }\n\n  getProfileUser() {\n    this.userService.getUser(this.props.match.params.id).then(profile =>\n      this.setState({\n        ...this.state,\n        profile: profile\n      })\n    );\n  }\n\n  render() {\n    if (!this.state.user) {\n      return (\n        <div>\n          Ves el perfil pero te pide que te loguees para donar si es un perfil\n          de org\n        </div>\n      );\n    } else {\n      if (\n        this.state.type === \"organization\" &&\n        this.state.profile.type === \"donor\"\n      ) {\n        return (\n          <React.Fragment>\n            <div className=\"card\">\n              <div className=\"card-content columns\">\n                <div className=\"column\">\n                  <div className=\"media\">\n                    <div className=\"media-left\">\n                      <figure className=\"image is-256x256\">\n                        <img\n                          className=\"fixed-logo-size\"\n                          src={this.state.profile.image}\n                          alt={this.state.profile.username}\n                        />\n                      </figure>\n                    </div>\n                    <div className=\"media-content\">\n                      <h1 className=\"title is-1\">\n                        {this.state.profile.userFirstname}{\" \"}\n                        {this.state.profile.userSurname}\n                      </h1>\n                      <p>Ha donado: {this.state.profile.userAmountDonated}€</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </React.Fragment>\n        );\n      } else if (\n        this.state.type === \"organization\" &&\n        this.state.profile.type === \"organization\"\n      ) {\n        return (\n          <React.Fragment>\n            <div className=\"card\">\n              <div className=\"card-content columns\">\n                <div className=\"column\">\n                  <div className=\"media\">\n                    <div className=\"media-left\">\n                      <figure className=\"image is-256x256\">\n                        <img\n                          className=\"fixed-logo-size\"\n                          src={this.state.profile.image}\n                          alt={this.state.profile.orgName}\n                        />\n                      </figure>\n                    </div>\n                    <div className=\"media-content\">\n                      <h1 className=\"title is-1\">\n                        {this.state.profile.orgName}\n                      </h1>\n                      <h3 className=\"title is-5\">Sobre nosotros</h3>\n                      {this.state.profile.orgDescription}\n                      {this.state.profile.orgLicense &&\n                      this.state.profile.orgRegistrar ? (\n                        <p className=\"has-margin-1\">\n                          <span className=\"is-bold\">Registro:</span> Nº{\" \"}\n                          {this.state.profile.orgLicense} -{\" \"}\n                          {this.state.profile.orgRegistrar}\n                        </p>\n                      ) : null}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"column\">\n                  <div\n                    className={\n                      (this.state.type === \"donor\") !== \"donor\"\n                        ? \"column\"\n                        : \"hide\"\n                    }\n                  ></div>\n                  <div className=\"has-margin-2\">\n                    <h3 className=\"title is-5\">Detalles de contacto</h3>\n                    <ul>\n                      {this.state.profile.orgUrl ? (\n                        <li className=\"has-margin-1\">\n                          <span className=\"is-bold\">\n                            <span className=\"icon is-medium\" aria-hidden=\"true\">\n                              <FontAwesomeIcon\n                                icon={faGlobe}\n                                aria-hidden=\"true\"\n                              />\n                            </span>\n                          </span>{\" \"}\n                          <a href={this.state.profile.orgUrl}>\n                            {this.state.profile.orgUrl}\n                          </a>\n                        </li>\n                      ) : null}\n                      {this.state.profile.orgEmail ? (\n                        <li className=\"has-margin-1\">\n                          <span className=\"icon is-medium\" aria-hidden=\"true\">\n                            <FontAwesomeIcon\n                              icon={faEnvelope}\n                              aria-hidden=\"true\"\n                            />\n                          </span>{\" \"}\n                          <a href={`mailto:${this.state.profile.orgEmail}`}>\n                            {this.state.profile.orgEmail}\n                          </a>\n                        </li>\n                      ) : null}\n                      {this.state.profile.orgTelephone ? (\n                        <li className=\"has-margin-1\">\n                          <span className=\"icon is-medium\" aria-hidden=\"true\">\n                            <FontAwesomeIcon\n                              icon={faPhoneSquareAlt}\n                              aria-hidden=\"true\"\n                            />\n                          </span>{\" \"}\n                          {this.state.profile.orgTelephone}\n                        </li>\n                      ) : null}\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* salto a la siguiente sección */}\n            <div className=\"has-margin-5\">\n              <h3 className=\"title\">Campañas activas</h3>\n              {this.state.campaigns.length > 0 ? (\n                <div className=\"columns campaign-blurb-columns\">\n                  {this.state.campaigns.map((campaign, i) => (\n                    <CampaignBlurb\n                      key={i}\n                      id={campaign._id}\n                      title={campaign.title}\n                      image={campaign.image}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <p>No hay campañas actualmente.</p>\n              )}\n            </div>\n\n            {/* salto a la siguiente sección */}\n            <div className=\"has-margin-5\">\n              <h3 className=\"title\">Comentarios de los usuarios</h3>\n              {this.state.comments.length > 0 ? (\n                <div className=\"donation-comments\">\n                  {this.state.comments.map((comment, i) => (\n                    <Comment\n                      key={i}\n                      anonymous={comment.anonymousDonation}\n                      comment={comment.comment}\n                      firstname={comment.user.userFirstname}\n                      surname={comment.user.userSurname}\n                      image={comment.user.image}\n                      amount={comment.amountDonated}\n                      date={comment.created_at}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <p>No hay comentarios.</p>\n              )}\n            </div>\n          </React.Fragment>\n        );\n      } else if (\n        this.state.type === \"donor\" &&\n        this.state.profile.type === \"organization\"\n      ) {\n        return (\n          <React.Fragment>\n            <div className=\"card\">\n              <div className=\"card-content columns\">\n                <div className=\"column\">\n                  <div className=\"media\">\n                    <div className=\"media-left\">\n                      <figure className=\"image is-256x256\">\n                        <img\n                          className=\"fixed-logo-size\"\n                          src={this.state.profile.image}\n                          alt={this.state.profile.orgName}\n                        />\n                      </figure>\n                    </div>\n                    <div className=\"media-content\">\n                      <h1 className=\"title is-1\">\n                        {this.state.profile.orgName}\n                      </h1>\n                      <h3 className=\"title is-5\">Sobre nosotros</h3>\n                      {this.state.profile.orgDescription}\n                      {this.state.profile.orgLicense &&\n                      this.state.profile.orgRegistrar ? (\n                        <p className=\"has-margin-1\">\n                          <span className=\"is-bold\">Registro:</span> Nº{\" \"}\n                          {this.state.profile.orgLicense} -{\" \"}\n                          {this.state.profile.orgRegistrar}\n                        </p>\n                      ) : null}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"column\">\n                  <div\n                    className={\n                      (this.state.type === \"donor\") !== \"donor\"\n                        ? \"column\"\n                        : \"hide\"\n                    }\n                  >\n                    <Link\n                      to={\"/donate/o/\" + this.props.match.params.id}\n                      className=\"button is-large is-primary is-fullwidth\"\n                    >\n                      <span className=\"icon is-medium\" aria-hidden=\"true\">\n                        <FontAwesomeIcon icon={faDonate} aria-hidden=\"true\" />\n                      </span>\n                      <span>Donar</span>\n                    </Link>\n                  </div>\n                  <div className=\"has-margin-2\">\n                    <h3 className=\"title is-5\">Detalles de contacto</h3>\n                    <ul>\n                      {this.state.profile.orgUrl ? (\n                        <li className=\"has-margin-1\">\n                          <span className=\"is-bold\">\n                            <span className=\"icon is-medium\" aria-hidden=\"true\">\n                              <FontAwesomeIcon\n                                icon={faGlobe}\n                                aria-hidden=\"true\"\n                              />\n                            </span>\n                          </span>{\" \"}\n                          <a href={this.state.profile.orgUrl}>\n                            {this.state.profile.orgUrl}\n                          </a>\n                        </li>\n                      ) : null}\n                      {this.state.profile.orgEmail ? (\n                        <li className=\"has-margin-1\">\n                          <span className=\"icon is-medium\" aria-hidden=\"true\">\n                            <FontAwesomeIcon\n                              icon={faEnvelope}\n                              aria-hidden=\"true\"\n                            />\n                          </span>{\" \"}\n                          <a href={`mailto:${this.state.profile.orgEmail}`}>\n                            {this.state.profile.orgEmail}\n                          </a>\n                        </li>\n                      ) : null}\n                      {this.state.profile.orgTelephone ? (\n                        <li className=\"has-margin-1\">\n                          <span className=\"icon is-medium\" aria-hidden=\"true\">\n                            <FontAwesomeIcon\n                              icon={faPhoneSquareAlt}\n                              aria-hidden=\"true\"\n                            />\n                          </span>{\" \"}\n                          {this.state.profile.orgTelephone}\n                        </li>\n                      ) : null}\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* salto a la siguiente sección */}\n            <div className=\"has-margin-5\">\n              <h3 className=\"title\">Campañas activas</h3>\n              {this.state.campaigns.length > 0 ? (\n                <div className=\"columns campaign-blurb-columns\">\n                  {this.state.campaigns.map((campaign, i) => (\n                    <CampaignBlurb\n                      key={i}\n                      id={campaign._id}\n                      title={campaign.title}\n                      image={campaign.image}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <p>No hay campañas actualmente.</p>\n              )}\n            </div>\n\n            {/* salto a la siguiente sección */}\n            <div className=\"has-margin-5\">\n              <h3 className=\"title\">Comentarios de los usuarios</h3>\n              {this.state.comments.length > 0 ? (\n                <div className=\"donation-comments\">\n                  {this.state.comments.map((comment, i) => (\n                    <Comment\n                      key={i}\n                      anonymous={comment.anonymousDonation}\n                      comment={comment.comment}\n                      firstname={comment.user.userFirstname}\n                      surname={comment.user.userSurname}\n                      image={comment.user.image}\n                      amount={comment.amountDonated}\n                      date={comment.created_at}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <p>No hay comentarios.</p>\n              )}\n            </div>\n          </React.Fragment>\n        );\n      } else if (\n        this.state.type === \"donor\" &&\n        this.state.profile.type === \"donor\"\n      ) {\n        return (\n          <React.Fragment>\n            <div className=\"card\">\n              <div className=\"card-content columns\">\n                <div className=\"column\">\n                  <div className=\"media\">\n                    <div className=\"media-left\">\n                      <figure className=\"image is-256x256\">\n                        <img\n                          className=\"fixed-logo-size\"\n                          src={this.state.profile.image}\n                          alt={this.state.profile.username}\n                        />\n                      </figure>\n                    </div>\n                    <div className=\"media-content\">\n                      <h1 className=\"title is-1\">\n                        {this.state.profile.userFirstname}{\" \"}\n                        {this.state.profile.userSurname}\n                      </h1>\n                      <p>Ha donado: {this.state.profile.userAmountDonated}€</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </React.Fragment>\n        );\n      } else {\n        if (this.state.profile.type === \"donor\") {\n          return (\n            <React.Fragment>\n              <div className=\"card\">\n                <div className=\"card-content columns\">\n                  <div className=\"column\">\n                    <div className=\"media\">\n                      <div className=\"media-left\">\n                        <figure className=\"image is-256x256\">\n                          <img\n                            className=\"fixed-logo-size\"\n                            src={this.state.profile.image}\n                            alt={this.state.profile.username}\n                          />\n                        </figure>\n                      </div>\n                      <div className=\"media-content\">\n                        <h1 className=\"title is-1\">\n                          {this.state.profile.userFirstname}{\" \"}\n                          {this.state.profile.userSurname}\n                        </h1>\n                        <p>\n                          Ha donado: {this.state.profile.userAmountDonated}€\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment>\n              <div className=\"card\">\n                <div className=\"card-content columns\">\n                  <div className=\"column\">\n                    <div className=\"media\">\n                      <div className=\"media-left\">\n                        <figure className=\"image is-256x256\">\n                          <img\n                            className=\"fixed-logo-size\"\n                            src={this.state.profile.image}\n                            alt={this.state.profile.orgName}\n                          />\n                        </figure>\n                      </div>\n                      <div className=\"media-content\">\n                        <h1 className=\"title is-1\">\n                          {this.state.profile.orgName}\n                        </h1>\n                        <h3 className=\"title is-5\">Sobre nosotros</h3>\n                        {this.state.profile.orgDescription}\n                        {this.state.profile.orgLicense &&\n                        this.state.profile.orgRegistrar ? (\n                          <p className=\"has-margin-1\">\n                            <span className=\"is-bold\">Registro:</span> Nº{\" \"}\n                            {this.state.profile.orgLicense} -{\" \"}\n                            {this.state.profile.orgRegistrar}\n                          </p>\n                        ) : null}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"column\">\n                    <div\n                      className={\n                        (this.state.type === \"donor\") !== \"donor\"\n                          ? \"column\"\n                          : \"hide\"\n                      }\n                    ></div>\n                    <div className=\"has-margin-2\">\n                      <h3 className=\"title is-5\">Detalles de contacto</h3>\n                      <ul>\n                        {this.state.profile.orgUrl ? (\n                          <li className=\"has-margin-1\">\n                            <span className=\"is-bold\">\n                              <span\n                                className=\"icon is-medium\"\n                                aria-hidden=\"true\"\n                              >\n                                <FontAwesomeIcon\n                                  icon={faGlobe}\n                                  aria-hidden=\"true\"\n                                />\n                              </span>\n                            </span>{\" \"}\n                            <a href={this.state.profile.orgUrl}>\n                              {this.state.profile.orgUrl}\n                            </a>\n                          </li>\n                        ) : null}\n                        {this.state.profile.orgEmail ? (\n                          <li className=\"has-margin-1\">\n                            <span className=\"icon is-medium\" aria-hidden=\"true\">\n                              <FontAwesomeIcon\n                                icon={faEnvelope}\n                                aria-hidden=\"true\"\n                              />\n                            </span>{\" \"}\n                            <a href={`mailto:${this.state.profile.orgEmail}`}>\n                              {this.state.profile.orgEmail}\n                            </a>\n                          </li>\n                        ) : null}\n                        {this.state.profile.orgTelephone ? (\n                          <li className=\"has-margin-1\">\n                            <span className=\"icon is-medium\" aria-hidden=\"true\">\n                              <FontAwesomeIcon\n                                icon={faPhoneSquareAlt}\n                                aria-hidden=\"true\"\n                              />\n                            </span>{\" \"}\n                            {this.state.profile.orgTelephone}\n                          </li>\n                        ) : null}\n                      </ul>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              {/* salto a la siguiente sección */}\n              <div className=\"has-margin-5\">\n                <h3 className=\"title\">Campañas activas</h3>\n                {this.state.campaigns.length > 0 ? (\n                  <div className=\"campaign-blurb-columns\">\n                    {this.state.campaigns.map((campaign, i) => (\n                      <CampaignBlurb\n                        key={i}\n                        id={campaign._id}\n                        title={campaign.title}\n                        image={campaign.image}\n                      />\n                    ))}\n                  </div>\n                ) : (\n                  <p>No hay campañas actualmente.</p>\n                )}\n              </div>\n\n              {/* salto a la siguiente sección */}\n              <div className=\"has-margin-5\">\n                <h3 className=\"title\">Comentarios de los usuarios</h3>\n                {this.state.comments.length > 0 ? (\n                  <div className=\"donation-comments\">\n                    {this.state.comments.map((comment, i) => (\n                      <Comment\n                        key={i}\n                        anonymous={comment.anonymousDonation}\n                        comment={comment.comment}\n                        firstname={comment.user.userFirstname}\n                        surname={comment.user.userSurname}\n                        image={comment.user.image}\n                        amount={comment.amountDonated}\n                        date={comment.created_at}\n                      />\n                    ))}\n                  </div>\n                ) : (\n                  <p>No hay comentarios.</p>\n                )}\n              </div>\n            </React.Fragment>\n          );\n        }\n      }\n    }\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport scriptLoader from \"react-async-script-loader\";\nclass PaypalButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showButton: false\n    };\n    window.React = React;\n    window.ReactDOM = ReactDOM;\n  }\n  componentDidMount() {\n    const { isScriptLoaded, isScriptLoadSucceed } = this.props;\n    if (isScriptLoaded && isScriptLoadSucceed) {\n      this.setState({ showButton: true });\n    }\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { isScriptLoaded, isScriptLoadSucceed } = nextProps;\n    const isLoadedButWasntLoadedBefore =\n      !this.state.showButton && !this.props.isScriptLoaded && isScriptLoaded;\n    if (isLoadedButWasntLoadedBefore) {\n      if (isScriptLoadSucceed) {\n        this.setState({ showButton: true });\n      }\n    }\n  }\n  render() {\n    const paypal = window.PAYPAL\n    const {\n      total,\n      currency,\n      env,\n      commit,\n      client,\n      onSuccess,\n      onError,\n      onCancel\n    } = this.props;\n    const { showButton } = this.state;\n    const payment = () =>\n      paypal.rest.payment.create(env, client, {\n        transactions: [\n          {\n            amount: {\n              total,\n              currency\n            }\n          }\n        ]\n      });\n    const onAuthorize = (data, actions) =>\n      actions.payment.execute().then(() => {\n        const payment = {\n          paid: true,\n          cancelled: false,\n          payerID: data.payerID,\n          paymentID: data.paymentID,\n          paymentToken: data.paymentToken,\n          returnUrl: data.returnUrl\n        };\n        onSuccess(payment);\n      });\n    return (\n      <div>\n        {showButton && (\n          <paypal.Button.react\n            env={env}\n            client={client}\n            commit={commit}\n            payment={payment}\n            onAuthorize={onAuthorize}\n            onCancel={onCancel}\n            onError={onError}\n          />\n        )}\n      </div>\n    );\n  }\n}\nexport default scriptLoader(\"https://www.paypalobjects.com/api/checkout.js\")(\n  PaypalButton\n);\n","//https://www.robinwieruch.de/react-paypal-payment\nimport React, { Component } from \"react\";\nimport PayPalButton from \"./PayPalButton\";\nimport DonationService from \"../../services/DonationService\"\nimport { withRouter } from \"react-router-dom\";\n\n\nconst CLIENT = {\n    sandbox: process.env.REACT_APP_PAYPAL_CLIENT_ID\n};\nconst ENV = \"sandbox\";\n\nclass DonateOrg extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      donation: 10,\n      anonymous: false,\n      contact: true\n    };\n    this.service = new DonationService();\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  };\n\n  handleCheckboxChange = event => {\n    const { name, checked } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: checked\n    });\n  };\n\n  render() {\n    const onSuccess = payment => {\n      let donation = {\n        user: this.props.userInSession._id,\n        org: this.props.match.params.id,\n        anonymous: this.state.anonymous,\n        donation: this.state.donation,\n        contact: this.state.contact\n      }\n      this.service.addOrgDonation(donation).then(response => {\n        this.props.history.push(`/donate/success/${response._id}`)\n      }).then(data => console.log(data))\n      \n      console.log(\"Successful payment!\", payment);\n    }\n    const onError = error =>\n      console.log(\"Erroneous payment OR failed to load script!\", error);\n    const onCancel = data => console.log(\"Cancelled payment!\", data);\n    return (\n      <div>\n        <h3 className=\"title\">Donaciones</h3>\n        <form>\n          <div className=\"field\">\n            <label className=\"label\">Cantidad:</label>\n            <div className=\"control\">\n              <input\n                name=\"donation\"\n                className=\"input is-large\"\n                type=\"number\"\n                placeholder=\"Text input\"\n                value={this.state.donation}\n                onChange={e => this.handleChange(e)}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"checkbox\">\n              <input\n                type=\"checkbox\"\n                name=\"anonymous\"\n                checked={this.state.anonymous}\n                onChange={e => this.handleCheckboxChange(e)}\n              />\n              <span>Donar de forma anónima.</span>\n            </label>\n          </div>\n          <div className=\"field\">\n            <label className=\"checkbox\">\n              <input\n                type=\"checkbox\"\n                name=\"contact\"\n                checked={this.state.contact}\n                onChange={e => this.handleCheckboxChange(e)}\n              />\n              <span>Quiero que la organización me pueda contactar.</span>\n            </label>\n          </div>\n          <PayPalButton\n            client={CLIENT}\n            env={ENV}\n            commit={true}\n            currency={\"EUR\"}\n            total={this.state.donation}\n            onSuccess={onSuccess}\n            onError={onError}\n            onCancel={onCancel}\n          />\n          {/* <Link to=\"#\" className=\"button is-primary is-large\">\n            Donar\n          </Link> */}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(DonateOrg);","//https://www.robinwieruch.de/react-paypal-payment\nimport React, { Component } from \"react\";\nimport PayPalButton from \"./PayPalButton\";\nimport DonationService from \"../../services/DonationService\"\nimport { withRouter } from \"react-router-dom\";\n\n\nconst CLIENT = {\n    sandbox: process.env.REACT_APP_PAYPAL_CLIENT_ID\n};\nconst ENV = \"sandbox\";\n\nclass DonateCampaign extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      donation: 10,\n      anonymous: false,\n      contact: true\n    };\n    this.service = new DonationService();\n  }\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n  };\n\n  handleCheckboxChange = event => {\n    const { name, checked } = event.target;\n    this.setState({\n      ...this.state,\n      [name]: checked\n    });\n  };\n\n  render() {\n    const onSuccess = payment => {\n      let donation = {\n        user: this.props.userInSession._id,\n        campaign: this.props.match.params.id,\n        anonymous: this.state.anonymous,\n        donation: this.state.donation,\n        contact: this.state.contact\n      }\n      this.service.addCampaignDonation(donation).then(response => {\n        this.props.history.push(`/donate/success/${response._id}`)\n      }).then(data => console.log(data))\n      \n      console.log(\"Successful payment!\", payment);\n    }\n    const onError = error =>\n      console.log(\"Erroneous payment OR failed to load script!\", error);\n    const onCancel = data => console.log(\"Cancelled payment!\", data);\n    return (\n      <div>\n        <h3 className=\"title\">Donaciones</h3>\n        <form>\n          <div className=\"field\">\n            <label className=\"label\">Cantidad:</label>\n            <div className=\"control\">\n              <input\n                name=\"donation\"\n                className=\"input is-large\"\n                type=\"number\"\n                placeholder=\"Text input\"\n                value={this.state.donation}\n                onChange={e => this.handleChange(e)}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"checkbox\">\n              <input\n                type=\"checkbox\"\n                name=\"anonymous\"\n                checked={this.state.anonymous}\n                onChange={e => this.handleCheckboxChange(e)}\n              />\n              <span>Donar de forma anónima.</span>\n            </label>\n          </div>\n          <div className=\"field\">\n            <label className=\"checkbox\">\n              <input\n                type=\"checkbox\"\n                name=\"contact\"\n                checked={this.state.contact}\n                onChange={e => this.handleCheckboxChange(e)}\n              />\n              <span>Quiero que la organización me pueda contactar.</span>\n            </label>\n          </div>\n          <PayPalButton\n            client={CLIENT}\n            env={ENV}\n            commit={true}\n            currency={\"EUR\"}\n            total={this.state.donation}\n            onSuccess={onSuccess}\n            onError={onError}\n            onCancel={onCancel}\n          />\n          {/* <Link to=\"#\" className=\"button is-primary is-large\">\n            Donar\n          </Link> */}\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(DonateCampaign);","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleDown, faAngleUp } from '@fortawesome/free-solid-svg-icons';\nimport CampaignService from \"../../../services/CampaignService\";\nimport moment from 'moment';\n\nexport default class CampaignDetails extends Component {\n    constructor(props) {\n        super(props); \n        this.state = {\n          title: \"\",\n          description: \"\",\n          deadline: \"\",\n          status: \"\",\n          fundraisingTarget: 0,\n          suggestedDonation: 0,\n          openTab: true,\n          expand: faAngleDown,\n          cardClass: \"card-content hide\"\n        }\n        this.campaignService = new CampaignService();\n    }\n\n    componentDidMount() {\n      this.campaignService.getCampaign(this.props.id).then(response => {\n       \n        this.setState({\n          ...this.state,\n          title: response.title,\n          description: response.description,\n          deadline: moment(response.deadline).format(\"YYYY-MM-DD\"),\n          status: response.status,\n          fundraisingTarget: response.fundraisingTarget,\n          suggestedDonation: response.suggestedDonation\n        });\n      });\n    }\n\n    handleChange = event => {\n        const { name, value } = event.target;\n        this.setState({\n          ...this.state,\n          [name]: value\n        });\n      };\n    \n      toggleCardClass() {\n        if (!this.state.openTab) {\n            this.setState({\n                ...this.state,\n                openTab: true,\n                expand: faAngleDown,\n                cardClass: \"card-content hide\"})\n        } else {\n            this.setState({\n              ...this.state,\n                openTab: false,\n                expand: faAngleUp,\n                cardClass: \"card-content\"\n            })\n        }\n      }\n\n      handleCampaignDetailsSubmit = () => {\n        let updatedCampaign = {\n            title: this.state.title,\n            description: this.state.description,\n            fundraisingTarget: this.state.fundraisingTarget,\n            status: this.state.status,\n            deadline: this.state.deadline,\n            suggestedDonation: this.state.suggestedDonation\n        };\n      \n        this.campaignService.updateCampaign(this.props.id, updatedCampaign)\n      };\n\n    render() {\n        return (\n            <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">Datos de la campaña</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\"><FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\"/></span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <div className=\"content\">\n              <form>\n            <div className=\"field\">\n              <label className=\"label\">Título:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"title\"\n                  value={this.state.title}\n                  placeholder=\"Título\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Descripción:</label>\n              <div className=\"control\">\n                <textarea\n                  className=\"textarea\"\n                  name=\"description\"\n                  onChange={e => this.handleChange(e)}\n                  value={this.state.description}\n                  placeholder=\"Descripción de la campaña.\"\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Fecha límite:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"date\"\n                  name=\"deadline\"\n                  value={this.state.deadline}\n                  placeholder=\"\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n                    <label>Estado:</label>\n                    <div className=\"control\">\n                      <div className=\"select\">\n                        <select\n                          className=\"select is-normal\"\n                          name=\"status\"\n                          value={this.state.status}\n                          onChange={e => this.handleChange(e)}\n                        >\n                          <option value=\"active\">Activa</option>\n                          <option value=\"inactive\">\n                            Desactivada\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"field\">\n              <label className=\"label\">Objetivo de recaudación:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"fundraisingTarget\"\n                  value={this.state.fundraisingTarget}\n                  placeholder=\"Cantidad en EUR\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Donación sugerida:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"suggestedDonation\"\n                  value={this.state.suggestedDonation}\n                  placeholder=\"Cantidad en EUR\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <button className=\"button is-link\" onClick={() => this.handleCampaignDetailsSubmit()} type=\"submit\">Actualizar</button>\n            </form>\n          </div>\n        </div>\n      </div>\n        )\n    }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faAngleDown,\n  faAngleUp,\n  faUpload\n} from \"@fortawesome/free-solid-svg-icons\";\nimport CampaignService from \"../../../services/CampaignService\";\n\nexport default class Image extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openTab: true,\n      expand: faAngleDown,\n      cardClass: \"card-content hide\"\n    };\n    this.campaignService = new CampaignService();\n  }\n\n  handleUpload = e => {\n    const uploadData = new FormData();\n    uploadData.append(\"imageUrl\", e.target.files[0]);\n\n    this.campaignService\n      .handleUpload(uploadData)\n      .then(response => {\n        this.setState({ ...this.state, imageUrl: response.secure_url });\n      })\n      .catch(err => {\n        console.log(\"Error while uploading the file: \", err);\n      });\n  };\n\n  toggleCardClass() {\n    if (!this.state.openTab) {\n      this.setState({\n        openTab: true,\n        expand: faAngleDown,\n        cardClass: \"card-content hide\"\n      });\n    } else {\n      this.setState({\n        openTab: false,\n        expand: faAngleUp,\n        cardClass: \"card-content\"\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"card has-margin-2\">\n        <header className=\"card-header\">\n          <p className=\"card-header-title\">{this.props.title}</p>\n          <Link to=\"#\" onClick={() => this.toggleCardClass()}>\n            <span className=\"icon is-medium has-margin-right-top\">\n              <FontAwesomeIcon icon={this.state.expand} aria-hidden=\"true\" />\n            </span>\n          </Link>\n        </header>\n        <div className={this.state.cardClass}>\n          <form>\n            <div className=\"file\">\n              <label className=\"file-label\">\n                <input\n                  className=\"file-input\"\n                  type=\"file\"\n                  onChange={e => this.handleUpload(e)}\n                />\n                <span className=\"file-cta\">\n                  <span className=\"file-icon\">\n                    <FontAwesomeIcon icon={faUpload} aria-hidden=\"true\" />\n                  </span>\n                  <span className=\"file-label\">Selecciona un archivo...</span>\n                </span>\n              </label>\n            </div>\n            <div className={this.state.imageUrl ? \"has-margin-1\" : \"hide\"}>\n              {\" \"}\n              <figure className=\"image is-128x128\">\n                <img src={this.state.imageUrl} alt=\"Imagen subida\" />\n              </figure>\n              <p>Si estás satisfecho con la imagen, pulsa \"Actualizar\".</p>\n            </div>\n            <button\n              className=\"button is-link\"\n              onClick={() => this.props.handleUpdateSubmit(this.state.imageUrl)}\n              type=\"submit\"\n            >\n              Actualizar\n            </button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport CampaignService from \"../../services/CampaignService\";\nimport CampaignDetails from \"./form/CampaignDetails\";\nimport Image from \"./form/Image\";\n\nexport default class EditCampaign extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.campaignService = new CampaignService();\n  }\n\n  componentDidMount() {\n    this.campaignService.getCampaign(this.props.match.params.id).then(response => {\n     \n      this.setState({\n        ...this.state,\n        campaign: response\n      });\n    });\n  }\n\n  handleImageSubmit = imageUrl => {\n    let updatedCampaign = {\n      ...this.state.campaign,\n      image: imageUrl\n    };\n\n    this.campaignService.updateCampaign(this.props.match.params.id, updatedCampaign);\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"columns is-centered\">\n          <div className=\"column\">\n            <h1 className=\"title\">Actualiza tus datos</h1>\n            <div>\n              <p>\n                Despliega cada sección haciendo click en la esquina superior\n                derecha. Cumplimenta solo aquellos campos que quieras\n                actualizar.\n              </p>\n            </div>\n            <Image\n              title=\"Imagen de campaña\"\n              handleUpdateSubmit={this.handleImageSubmit}\n            />\n            <CampaignDetails\n              id={this.props.match.params.id}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport DonationService from '../../services/DonationService'\nimport { withRouter } from \"react-router-dom\";\n\nclass SuccessfulDonation extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            comment: \"\"\n        }\n        this.service = new DonationService();\n    }\n\n    handleChange = event => {\n        const { name, value } = event.target;\n        this.setState({\n          ...this.state,\n          [name]: value\n        });\n      };\n\n      handleSubmit = donationComment => {\n        this.service.addComment(this.props.match.params.id, donationComment)\n        this.props.history.push(\"/home\")\n      };\n\n    render() {\n        return (\n            <div>\n                <h1 className=\"title\">¡Gracias por tu donación{this.props.userInSession.userFirstname ? `, ${this.props.userInSession.userFirstname}!` : `, ${this.props.userInSession.username}!` }</h1>\n                <form>\n                <div className=\"field\">\n              <label className=\"label\">¿Te gustaría añadir un comentario a tu donación?</label>\n              <div className=\"control\">\n                <textarea\n                  className=\"textarea\"\n                  name=\"comment\"\n                  onChange={e => this.handleChange(e)}\n                  value={this.state.comment}\n                  placeholder=\"Tu comentario (opcional).\"\n                ></textarea>\n              </div>\n            </div>\n            <button type=\"submit\" onClick={() => this.handleSubmit(this.state.comment)} className=\"button is-link\">Enviar</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(SuccessfulDonation);","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDonate, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport UserService from \"../../services/UserService\";\nimport DonationService from \"../../services/DonationService\";\nimport CampaignService from \"../../services/CampaignService\";\nimport Comment from \"../comment/Comment\";\n\nexport default class Campaign extends Component {\n  constructor(props) {\n    super(props);\n    this.userService = new UserService();\n    this.donationService = new DonationService();\n    this.campaignService = new CampaignService();\n    this.state = {\n      campaign: {},\n      type: \"\", //user.type\n      user: {},\n      comments: []\n    };\n  }\n  componentDidMount() {\n    this.getCampaign();\n    this.getCampaignDonations();\n  }\n  getCampaign() {\n    this.campaignService.getCampaign(this.props.match.params.id).then(campaign =>\n      this.setState({\n        ...this.state,\n        campaign: campaign\n      })\n    );\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (!!props.userInSession) {\n      return (\n        (state.user = props.userInSession),\n        (state.type = props.userInSession.type)\n      );\n    }\n    return null;\n  }\n\n  getCampaignDonations() {\n    this.donationService.getCampaignDonations(this.props.match.params.id)\n      .then(response => {\n        let comments = response\n          .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n          .slice(0, 4);\n        this.setState({\n          ...this.state,\n          comments: comments\n        });\n      });\n  }\n  render() {\n    if (Object.entries(this.state.user).length === 0 && this.state.user.constructor === Object) {\n      return (<React.Fragment>\n      <div className=\"card\">\n        <div className=\"card-content\">\n          <div className=\"media-content columns\">\n            <div className=\"column\">\n              <h1 className=\"title is-2\">{this.state.campaign.title}</h1>\n              <img className=\"campaign-main-img\" src={this.state.campaign.image} alt={this.state.campaign.title}/>\n            </div>\n              <div className=\"column\">\n                <ul>\n                <li><span className=\"title is-5\">Objetivo de recaudación:</span> <span className=\"title is-5 txt-is-orange\">{this.state.campaign.fundraisingTarget}€</span></li>\n                <li><span className=\"title is-5\">Recaudación actual:</span> <span className=\"title is-5 txt-is-blue\">{this.state.campaign.totalDonations}€</span></li>\n                </ul>\n\n                <h3 className=\"title is-5 has-margin-2\">Descripición de la campaña:</h3>\n                {this.state.campaign.description}\n                <Link\n                        to={`/signup`}\n                        className=\"button is-large is-primary is-fullwidth has-margin-2\"\n                      >\n                        <span className=\"icon is-medium\" aria-hidden=\"true\">\n                          <FontAwesomeIcon icon={faUser} aria-hidden=\"true\" />\n                        </span>\n                        <span>Regístrate para donar</span>\n                      </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"has-margin-5\">\n        <h3 className=\"title\">Comentarios de los usuarios</h3>\n        {this.state.comments.length > 0 ? (\n          <div className=\"donation-comments\">\n            {this.state.comments.map((comment, i) => (\n              <Comment\n                key={i}\n                anonymous={comment.anonymousDonation}\n                comment={comment.comment}\n                firstname={comment.user.userFirstname}\n                surname={comment.user.userSurname}\n                image={comment.user.image}\n                amount={comment.amountDonated}\n                date={comment.created_at}\n              />\n            ))}\n          </div>\n        ) : (\n          <p>No hay comentarios.</p>\n        )}\n      </div>\n    </React.Fragment>);\n    } else {\n      if (this.state.type === \"organization\") {\n        return (\n          <React.Fragment>\n            <div className=\"card\">\n              <div className=\"card-content\">\n                <div className=\"media-content columns\">\n                  <div className=\"column\">\n                    <h1 className=\"title is-2\">{this.state.campaign.title}</h1>\n                    <img className=\"campaign-main-img\" src={this.state.campaign.image} alt={this.state.campaign.title}/>\n                  </div>\n                    <div className=\"column\">\n                      <ul>\n                      <li><span className=\"title is-5\">Objetivo de recaudación:</span> <span className=\"title is-5 txt-is-orange\">{this.state.campaign.fundraisingTarget}€</span></li>\n                      <li><span className=\"title is-5\">Recaudación actual:</span> <span className=\"title is-5 txt-is-blue\">{this.state.campaign.totalDonations}€</span></li>\n                      </ul>\n\n                      <h3 className=\"title is-5 has-margin-2\">Descripición de la campaña:</h3>\n                      {this.state.campaign.description}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"has-margin-5\">\n              <h3 className=\"title\">Comentarios de los usuarios</h3>\n              {this.state.comments.length > 0 ? (\n                <div className=\"donation-comments\">\n                  {this.state.comments.map((comment, i) => (\n                    <Comment\n                      key={i}\n                      anonymous={comment.anonymousDonation}\n                      comment={comment.comment}\n                      firstname={comment.user.userFirstname}\n                      surname={comment.user.userSurname}\n                      image={comment.user.image}\n                      amount={comment.amountDonated}\n                      date={comment.created_at}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <p>No hay comentarios.</p>\n              )}\n            </div>\n          </React.Fragment>\n        )} else {\n        return (\n          <React.Fragment>\n            <div className=\"card\">\n              <div className=\"card-content\">\n                <div className=\"media-content columns\">\n                  <div className=\"column\">\n                    <h1 className=\"title is-2\">{this.state.campaign.title}</h1>\n                    <img className=\"campaign-main-img\" src={this.state.campaign.image} alt={this.state.campaign.title}/>\n                  </div>\n                    <div className=\"column\">\n                      <ul>\n                      <li><span className=\"title is-5\">Objetivo de recaudación:</span> <span className=\"title is-5 txt-is-orange\">{this.state.campaign.fundraisingTarget}€</span></li>\n                      <li><span className=\"title is-5\">Recaudación actual:</span> <span className=\"title is-5 txt-is-blue\">{this.state.campaign.totalDonations}€</span></li>\n                      </ul>\n\n                      <h3 className=\"title is-5 has-margin-2\">Descripición de la campaña:</h3>\n                      {this.state.campaign.description}\n                      <Link\n                        to={`/donate/c/${this.props.match.params.id}`}\n                        className=\"button is-large is-primary is-fullwidth has-margin-2\"\n                      >\n                        <span className=\"icon is-medium\" aria-hidden=\"true\">\n                          <FontAwesomeIcon icon={faDonate} aria-hidden=\"true\" />\n                        </span>\n                        <span>Donar</span>\n                      </Link>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"has-margin-5\">\n              <h3 className=\"title\">Comentarios de los usuarios</h3>\n              {this.state.comments.length > 0 ? (\n                <div className=\"donation-comments\">\n                  {this.state.comments.map((comment, i) => (\n                    <Comment\n                      key={i}\n                      anonymous={comment.anonymousDonation}\n                      comment={comment.comment}\n                      firstname={comment.user.userFirstname}\n                      surname={comment.user.userSurname}\n                      image={comment.user.image}\n                      amount={comment.amountDonated}\n                      date={comment.created_at}\n                    />\n                  ))}\n                </div>\n              ) : (\n                <p>No hay comentarios.</p>\n              )}\n            </div>\n          </React.Fragment>\n        );\n      }\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/free-solid-svg-icons\";\nimport SearchService from \"../services/SearchService\";\nimport CategoryService from \"../services/CategoryService\";\n\nexport default class Main extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: \"\",\n      results: []\n    };\n    this.service = new SearchService();\n    this.categoryService = new CategoryService();\n  }\n\n  handleSubmit = searchTerm => {\n    this.service\n      .getSearchResults(searchTerm)\n      .then(response => {\n        this.setState({\n          ...this.state,\n          results: response\n        });\n      })\n      .catch(err => {\n        this.setState({\n          ...this.state,\n          results: false\n        });\n      });\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState(\n      {\n        ...this.state,\n        [name]: value\n      },\n      () => this.handleSubmit(this.state.searchTerm)\n    );\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"main\">\n          <div className=\"align-items-center\">\n            <div className=\"align-items-center main-text\">\n              <img src=\"./images/logo.png\" alt=\"logo\" />\n              <div className=\"has-margin-3\">\n              <h3 className=\"title is-3\">\n                  ¿Alguna vez has querido ayudar a otros pero no sabías cómo?\n                </h3>\n                <span className=\"txt-is-orange is-bold\">causa</span>\n                <span className=\"txt-is-blue is-bold\">impacto</span> pretende\n                conectar a personas como tú con organizaciones que ayudan a\n                individuos en situaciones difíciles o de emergencia.\n              </div>\n              <p>Comienza a buscar organizaciones y campañas de tu interés:</p>\n            </div>\n            <div className=\"main-search\">\n              <div className=\"field has-addons\">\n                <div className=\"control\">\n                  <div className=\"dropdown is-active\">\n                    <div className=\"dropdown-trigger\">\n                      <input\n                        className=\"input search-input\"\n                        type=\"text\"\n                        value={this.state.searchTerm}\n                        placeholder=\"Busca una organización o campaña\"\n                        name=\"searchTerm\"\n                        onChange={e => this.handleChange(e)}\n                      />\n                    </div>\n                    {this.state.results.length > 0 && (\n                      <div\n                        className=\"dropdown-menu\"\n                        id=\"dropdown-menu\"\n                        role=\"menu\"\n                      >\n                        <div className=\"dropdown-content d-main\">\n                          {this.state.results.map((result, i) => (\n                            <Link to={result.uri} className=\"dropdown-item\">\n                              {result.title}\n                            </Link>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                <div className=\"control\">\n                  <Link to=\"#\" className=\"button is-info\">\n                    <span className=\"icon is-medium\">\n                      <FontAwesomeIcon icon={faSearch} aria-hidden=\"true\" />\n                    </span>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div>\n            <div className=\"main-category has-margin-4 categories\">\n              <h3 className=\"title is-4\">Busca por categoría</h3>\n              <div className=\"categories\">\n                {this.props.categoryList.map((category, i) => (\n                  <div className=\"category-main column is-one-fifth\" key={i}>\n                    <Link to={`/category/${category._id}`}>\n                      <img\n                        src={category.image}\n                        className=\"category-img has-margin-1\"\n                        alt={category.name}\n                      />{\" \"}\n                      <h5 className=\"title is-6\">{category.name}</h5>\n                    </Link>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport UserService from '../../services/UserService';\nimport CategoryService from '../../services/CategoryService';\nimport \"./style.css\";\n\nexport default class Category extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            category: \"\",\n            organizations: []\n        }\n        this.service = new UserService();\n        this.categoryService = new CategoryService();\n    }\n    componentDidMount(){\n        this.getOrgByCategory();\n        this.getCategoryById();\n    }\n    getOrgByCategory(){\n        return this.service.getOrgByCategory(this.props.match.params.id).then(response =>\n            {this.setState({\n                ...this.state,\n                organizations: response\n            })}\n        )\n    }\n    getCategoryById() {\n        return this.categoryService.getCategoryById(this.props.match.params.id)\n        .then(response => {\n            this.setState({\n            ...this.state,\n            category: response.name\n        })})\n    }\n    render() {\n        return (\n            <div>\n                <h3 className=\"title\">Categoría: <span className=\"category-text\">{this.state.category}</span></h3>\n                <ul className=\"category-organizations\">\n                    {this.state.organizations.map((org,i) => (\n                    <li className=\"has-margin-2\" key={i} >\n                        <div className=\"individual-organization\">\n                            <div className=\"organization-logo\">\n                         <Link to={`/profile/${org._id}`} alt={org.orgName}><img src={org.image} alt={org.orgName} /></Link>\n                         </div>\n                         <p><Link to={`/profile/${org._id}`} alt={org.orgName}>{org.orgName}</Link></p>\n                         </div>\n                    </li>))}\n                </ul>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport CampaignService from '../../services/CampaignService';\nimport UserService from \"../../services/UserService\";\n\n\nexport default class AddCampaign extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            title: \"\",\n            description: \"\",\n            deadline: undefined,\n            status: \"active\",\n            fundraisingTarget: 0,\n            suggestedDonations: 0,\n        };\n        this.service = new CampaignService();\n        this.userService = new UserService();\n      }\n\n      handleFormSubmit = event => {\n        event.preventDefault();\n        const {title, description, deadline, status, fundraisingTarget, suggestedDonations }= this.state;\n        const organization = this.props.userInSession._id;\n    \n        return this.service\n          .addCampaign(title, description, deadline, status, fundraisingTarget, suggestedDonations, organization)\n          .then(response => {\n            this.setState({\n              title: \"\",\n              description: \"\",\n              deadline: 2020-12-12,\n              status: \"\",\n              fundraisingTarget: 0,\n              suggestedDonations: 0\n            });\n            let orgCampaignsUpdate = [...this.props.userInSession.orgCampaigns, response._id]\n            let updatedUser = {\n              ...this.props.userInSession,\n              orgCampaigns: orgCampaignsUpdate\n            };\n    \n            this.userService.updateUser(updatedUser);\n            this.props.history.push(\"/home\");\n          })\n          .catch(error => {\n            this.setState({\n                title: title,\n                description: description,\n                deadline: deadline,\n                status: status,\n                fundraisingTarget: fundraisingTarget,\n                suggestedDonations: suggestedDonations,\n              error: true\n            });\n          });\n      };\n    \n      handleChange = event => {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n      };\n\n    render() {\n        return (\n          <React.Fragment>\n          <h1 className=\"title\">Datos de la campaña</h1>\n              <form>\n            <div className=\"field\">\n              <label className=\"label\">Título:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"title\"\n                  value={this.state.title}\n                  placeholder=\"Título\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Descripción:</label>\n              <div className=\"control\">\n                <textarea\n                  className=\"textarea\"\n                  name=\"description\"\n                  onChange={e => this.handleChange(e)}\n                  value={this.state.description}\n                  placeholder=\"Descripción de la campaña.\"\n                ></textarea>\n              </div>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Fecha límite:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"date\"\n                  name=\"deadline\"\n                  value={this.state.deadline}\n                  placeholder=\"\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n                    <label>Estado:</label>\n                    <div className=\"control\">\n                      <div className=\"select\">\n                        <select\n                          className=\"select is-normal\"\n                          name=\"status\"\n                          value={this.state.status}\n                          onChange={e => this.handleChange(e)}\n                        >\n                          <option value=\"active\">Activa</option>\n                          <option value=\"inactive\">\n                            Desactivada\n                          </option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"field\">\n              <label className=\"label\">Objetivo de recaudación:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"fundraisingTarget\"\n                  value={this.state.fundraisingTarget}\n                  placeholder=\"Cantidad en EUR\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <div className=\"field\">\n              <label className=\"label\">Donación sugerida:</label>\n              <div className=\"control\">\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"suggestedDonation\"\n                  value={this.state.suggestedDonation}\n                  placeholder=\"Cantidad en EUR\"\n                  onChange={e => this.handleChange(e)}\n                />\n              </div>\n            </div>\n            <button className=\"button is-link\" onClick={(e) => this.handleFormSubmit(e)} type=\"submit\">Añadir campaña</button>\n            </form>\n            </React.Fragment>);\n    }\n}\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Navbar from \"./components/navigation/Navbar\";\nimport Signup from \"./components/auth/Signup\";\nimport Login from \"./components/auth/Login\";\nimport AuthService from \"./services/AuthService\";\nimport Home from \"./components/home/Home\";\nimport Update from \"./components/update/Update\";\nimport CategoryService from \"./services/CategoryService\";\nimport Profile from \"./components/profile/Profile\";\nimport DonateOrg from \"./components/donate/DonateOrg\";\nimport DonateCampaign from \"./components/donate/DonateCampaign\";\nimport UserService from \"./services/UserService\";\nimport EditCampaign from \"./components/campaign/EditCampaign\";\nimport SuccessfulDonation from \"./components/donate/SuccessfulDonation\";\nimport Campaign from \"./components/campaign/Campaign\";\nimport Main from \"./components/Main\";\nimport Category from \"./components/category/Category\";\nimport AddCampaign from \"./components/campaign/AddCampaign\";\nimport { withRouter } from \"react-router-dom\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loggedInUser: null,\n      confimationCode: \"\",\n      categories: [],\n      randomOrg: {}\n    };\n    this.authService = new AuthService();\n    this.categoryService = new CategoryService();\n    this.userService = new UserService();\n\n    this.fetchUser();\n    this.getCategories();\n    this.getRandomOrg();\n  }\n\n  getCategories() {\n    return this.categoryService\n      .getCategories()\n      .then(response => {\n        this.setState({\n          categories: response\n        });\n      })\n      .catch(err => {\n        this.setState({\n          categories: false\n        });\n      });\n  }\n\n  getRandomOrg() {\n    return this.userService\n      .getOrg()\n      .then(response => {\n        let randomOrg = response[Math.floor(Math.random() * response.length)];\n        this.setState({\n          randomOrg: randomOrg\n        });\n      })\n      .catch(err => {\n        this.setState({\n          randomOrg: false\n        });\n      });\n  }\n\n  getUser = userObj => {\n    this.setState({\n      loggedInUser: userObj\n    });\n  };\n\n  logout = () => {\n    this.authService.logout().then(() => {\n      this.setState({ loggedInUser: null });\n      this.props.history.push(\"/\");\n    });\n  };\n\n  fetchUser() {\n    return this.authService\n      .loggedin()\n      .then(response => {\n        this.setState({\n          loggedInUser: response\n        });\n      })\n      .catch(err => {\n        this.setState({\n          loggedInUser: false\n        });\n      });\n  }\n\n  render() {\n    if (this.state.loggedInUser) {\n      return (\n        <React.Fragment>\n          <div className=\"App\">\n            <Navbar\n              userInSession={this.state.loggedInUser}\n              logout={this.logout}\n            />\n            <Switch>\n              <Route\n                exact\n                path=\"/navbar\"\n                render={props => (\n                  <Navbar\n                    userInSession={this.state.loggedInUser}\n                    logout={this.logout}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/\"\n                render={props => (\n                  <Main\n                    userInSession={this.state.loggedInUser}\n                    categoryList={this.state.categories}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/category/:id\"\n                render={props => (\n                  <Category\n                    {...props}\n                    userInSession={this.state.loggedInUser}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/home\"\n                render={props => (\n                  <Home\n                    userInSession={this.state.loggedInUser}\n                    categoryList={this.state.categories}\n                    randomOrg={this.state.randomOrg}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/profile/:id\"\n                render={props => (\n                  <Profile {...props} userInSession={this.state.loggedInUser} />\n                )}\n              />\n              <Route\n                exact\n                path=\"/update\"\n                render={() => (\n                  <Update userInSession={this.state.loggedInUser} />\n                )}\n              />\n\n              <Route\n                exact\n                path=\"/addcampaign\"\n                render={props => (\n                  <AddCampaign\n                    {...props}\n                    userInSession={this.state.loggedInUser}\n                  />\n                )}\n              />\n\n              <Route\n                exact\n                path=\"/campaign/edit/:id\"\n                render={({ match }) => (\n                  <EditCampaign\n                    userInSession={this.state.loggedInUser}\n                    match={match}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/campaign/:id\"\n                render={props => (\n                  <Campaign\n                    {...props}\n                    userInSession={this.state.loggedInUser}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/donate/o/:id\"\n                render={({ match }) => (\n                  <DonateOrg\n                    userInSession={this.state.loggedInUser}\n                    match={match}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/donate/c/:id\"\n                render={({ match }) => (\n                  <DonateCampaign\n                    userInSession={this.state.loggedInUser}\n                    match={match}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/donate/success/:id\"\n                render={({ match }) => (\n                  <SuccessfulDonation\n                    userInSession={this.state.loggedInUser}\n                    match={match}\n                  />\n                )}\n              />\n            </Switch>\n          </div>\n        </React.Fragment>\n      );\n    } else {\n      return (\n        <React.Fragment>\n          <div className=\"App\">\n            <Navbar />\n            <Switch>\n              <Route\n                exact\n                path=\"/\"\n                render={props => (\n                  <Main\n                    userInSession={this.state.loggedInUser}\n                    categoryList={this.state.categories}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/category/:id\"\n                render={({ ...props }) => (\n                  <Category\n                    {...props}\n                    userInSession={this.state.loggedInUser}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/\"\n                // render={() => <Signup getUser={this.getUser} />}\n              />\n              <Route\n                exact\n                path=\"/home\"\n                render={props => (\n                  <Home\n                    userInSession={this.state.loggedInUser}\n                    categoryList={this.state.categories}\n                    randomOrg={this.state.randomOrg}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/signup\"\n                render={() => <Signup getUser={this.getUser} />}\n              />\n              <Route\n                exact\n                path=\"/login\"\n                render={() => <Login getUser={this.getUser} />}\n              />\n              <Route\n                exact\n                path=\"/profile/:id\"\n                render={({ match }) => (\n                  <Profile\n                    userInSession={this.state.loggedInUser}\n                    match={match}\n                  />\n                )}\n              />\n              <Route\n                exact\n                path=\"/campaign/:id\"\n                render={({ match }) => (\n                  <Campaign\n                    userInSession={this.state.loggedInUser}\n                    match={match}\n                  />\n                )}\n              />\n            </Switch>\n          </div>\n        </React.Fragment>\n      );\n    }\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport \"@brainhubeu/react-carousel/lib/style.css\";\nimport 'bulma/css/bulma.css';\nimport './index.css';\n\nReactDOM.render(<Router><App  /></Router>, document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}