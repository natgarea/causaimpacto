(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{39:function(e,t,a){e.exports=a(73)},44:function(e,t,a){},67:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),c=a.n(s),i=a(1),l=a(3),o=a(5),m=a(4),u=a(6),d=(a(44),a(16)),p=a(10),h=a(18),b=a.n(h),g=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a,n,r){return t.service.post("/signup",{type:e,username:a,email:n,password:r}).then((function(e){return e.data}))},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/currentUser").then((function(e){return e.data}))},this.logout=function(){return t.service.get("/logout").then((function(e){return e.data}))},this.URL="https://causa-impacto.herokuapp.com/api/auth",this.service=b.a.create({baseURL:this.URL,withCredentials:!0})},E=a(2),v=a(8),f=a(7),N=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"B\xfasqueda"})),r.a.createElement("div",{className:"control"},r.a.createElement(E.b,{to:"#",className:"button is-info"},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement(v.a,{icon:f.j,"aria-hidden":"true"}))))))}}]),t}(n.Component);a(67);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(e){a.props.logout()},a.state={loggedInUser:null},a.service=new g,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){return this.state.loggedInUser?r.a.createElement("nav",{className:"navbar is-fixed-top is-light",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(E.b,{className:"navbar-item",to:"https://bulma.io"},r.a.createElement("img",{alt:"causa impacto logo",src:"/images/logo.png",className:"nav-logo"})),r.a.createElement(E.b,{to:"#",role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(E.b,{to:"#",className:"navbar-item"},"Inicio"),r.a.createElement(E.b,{to:"/profile/5da354c4c3e59516a751bd9b",className:"navbar-item"},"Donar")),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(N,null)),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement(E.b,{to:"#",className:"navbar-link"},r.a.createElement("figure",{className:"image is-24x24 has-margin-right"},r.a.createElement("img",{className:"is-rounded",src:this.state.loggedInUser.image?this.state.loggedInUser.image:"https://bulma.io/images/placeholders/24x24.png",alt:this.state.loggedInUser.username}))," ",this.state.loggedInUser.username),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(E.b,{to:"/home",className:"navbar-item"},"Home"),r.a.createElement(E.b,{to:"/update",className:"navbar-item"},"Mis datos"),r.a.createElement(E.b,{to:"/profile",className:"navbar-item"},"Mi perfil"),r.a.createElement("hr",{className:"navbar-divider"}),r.a.createElement(E.b,{to:"#",className:"navbar-item",onClick:this.handleLogout},"Log out")))))):r.a.createElement("nav",{className:"navbar is-fixed-top is-light",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(E.b,{className:"navbar-item",to:"https://bulma.io"},r.a.createElement("img",{alt:"causa impacto logo",src:"/images/logo.png",className:"nav-logo"})),r.a.createElement(E.b,{to:"#",role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(E.b,{to:"#",className:"navbar-item"},"Inicio"),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement(E.b,{to:"#",className:"navbar-link"},"More"),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(E.b,{to:"#",className:"navbar-item"},"About"),r.a.createElement(E.b,{to:"#",className:"navbar-item"},"Jobs"),r.a.createElement(E.b,{to:"#",className:"navbar-item"},"Contact"),r.a.createElement("hr",{className:"navbar-divider"}),r.a.createElement(E.b,{to:"#",className:"navbar-item"},"Report an issue")))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement(E.b,{className:"button is-primary",to:"/signup"},"Signup"),r.a.createElement(E.b,{className:"button is-light",to:"/login"},"Log in"))))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={buttonClass:"button is-link is-fullwidth is-normal"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleClass",value:function(){this.setState({buttonClass:"button is-link is-fullwidth is-normal is-loading"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:this.state.buttonClass,onClick:function(){return e.toggleClass()},type:"submit"},this.props.children))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.type,n=a.state.username,r=a.state.email,s=a.state.password;a.service.signup(t,n,r,s).then((function(e){a.setState({type:"",username:"",email:"",password:""}),a.props.getUser(e.user),a.props.history.push("/home")})).catch((function(e){a.setState({type:t,username:n,email:r,password:s,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.state={type:"donor",username:"",email:"",password:""},a.service=new g,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content align-items-center"},r.a.createElement("h1",{className:"title"},"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Tipo de usuario:"),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{className:"select is-normal",name:"type",value:this.state.type,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"donor"},"Cuenta personal"),r.a.createElement("option",{value:"organization"},"Cuenta para organizaci\xf3n"))))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Username:"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-normal",type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("span",{className:"icon is-medium is-left"},r.a.createElement(v.a,{icon:f.l,"aria-hidden":"true"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Email:"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-normal",type:"email",name:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("span",{className:"icon is-medium is-left"},r.a.createElement(v.a,{icon:f.g,"aria-hidden":"true"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password:"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-normal",type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("span",{className:"icon is-medium is-left"},r.a.createElement(v.a,{icon:f.i,"aria-hidden":"true"}))),r.a.createElement("p",{className:"help"},"Debe contener al menos 8 caracteres.")),r.a.createElement(j,{children:"Sign Up"})),r.a.createElement("p",{className:"help is-danger has-icons-right"},this.state.error?"Error":""))))),r.a.createElement("div",{className:"column"}))}}]),t}(n.Component),S=Object(d.f)(C),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then((function(e){a.setState({username:t,password:n,error:!1}),a.props.getUser(e),a.props.history.push("/home")})).catch((function(e){a.setState({username:t,password:n,error:!0})}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.state={username:"",password:""},a.service=new g,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"}),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"content align-items-center"},r.a.createElement("h1",{className:"title"},"Log In"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Username:"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-normal",type:"text",name:"username",title:"username",placeholder:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)},required:!0}),r.a.createElement("span",{className:"icon is-medium is-left"},r.a.createElement(v.a,{icon:f.l,"aria-hidden":"true"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password:"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input is-normal",type:"password",name:"password",title:"password",placeholder:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)},required:!0}),r.a.createElement("span",{className:"icon is-medium is-left"},r.a.createElement(v.a,{icon:f.i,"aria-hidden":"true"})))),r.a.createElement(j,{children:"Login"})),r.a.createElement("h3",null,this.state.error?"Error":""))))),r.a.createElement("div",{className:"column"}))}}]),t}(n.Component),k=Object(d.f)(w),P=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h2",{className:"title"},"Tu perfil")),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{className:"is-rounded",src:this.props.userData.image?this.props.userData.image:"https://bulma.io/images/placeholders/128x128.png",alt:this.props.userData.userFirstname}))),r.a.createElement("div",{className:"media-content"},this.props.userData.userFirstname&&this.props.userData.userSurname?r.a.createElement("div",null,r.a.createElement("p",{className:"title is-4"},this.props.userData.userFirstname," ",this.props.userData.userSurname),r.a.createElement("p",{className:"subtitle is-6"},"@",this.props.userData.username)):r.a.createElement("p",{className:"title is-4"},"@",this.props.userData.username)))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"buttons"},r.a.createElement(E.b,{to:"#",className:"button is-link"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.l,"aria-hidden":"true"}))," ",r.a.createElement("span",null,"Perfil p\xfablico")),r.a.createElement(E.b,{to:"/update",className:"button is-link"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.f,"aria-hidden":"true"}))," ",r.a.createElement("span",null,"Actualiza tu perfil")),r.a.createElement(E.b,{to:"#",className:"button is-danger"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.m,"aria-hidden":"true"}))," ",r.a.createElement("span",null,"Desactiva tu cuenta"))))))}}]),t}(n.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"Quiz\xe1 te interese..."),r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{src:this.props.randomOrg.image?this.props.randomOrg.image:"https://bulma.io/images/placeholders/128x128.png",alt:this.props.randomOrg.orgName}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("h5",{className:"title is-5 txt-is-orange"},this.props.randomOrg.orgName),r.a.createElement("p",null,this.props.randomOrg.orgDescription),r.a.createElement(E.b,{to:"#",className:"button is-primary is-fullwidth has-margin-2"},"Ver campa\xf1as actuales"))))))}}]),t}(n.Component),x=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"Tus donaciones"))))}}]),t}(n.Component),D=function(e){function t(e){var a,n,r;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).props.userData.userInterests.includes(a.props.id)?(n=!0,r="button is-primary"):(n=!1,r="button is-outlined"),a.state={buttonSelected:n,buttonClass:r},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleButtonClass",value:function(){this.state.buttonSelected?this.setState({buttonSelected:!1,buttonClass:"button is-outlined"}):this.setState({buttonSelected:!0,buttonClass:"button is-primary"}),this.props.toggleInterest(this.props.id)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"column category is-5"},r.a.createElement("div",{className:"align-items-center"},r.a.createElement("figure",{className:"image is-96x96"},r.a.createElement("img",{src:this.props.image,alt:this.props.name}))),r.a.createElement("div",{className:"align-items-center"},r.a.createElement("p",{className:"title is-4"},this.props.name),r.a.createElement("button",{id:this.props.id,className:this.state.buttonClass,onClick:function(){return e.toggleButtonClass()}},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement(v.a,{icon:f.h,"aria-hidden":"true"})))))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.notification?"hide":"notification is-warning"},r.a.createElement("button",{className:"delete",onClick:function(){return e.props.toggleClass()}}),r.a.createElement("p",null,"Te hemos enviado un email para que verifiques tu cuenta. Por favor, comprueba tu correo y haz click en el enlace enviado."))}}]),t}(n.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h2",{className:"title txt-is-blue"},this.props.userData.orgName)),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{className:"is-rounded",src:this.props.userData.image,alt:this.props.userData.orgName}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},this.props.userData.userFirstname),r.a.createElement("p",{className:"subtitle is-6"},"@",this.props.userData.username)))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"buttons"},r.a.createElement(E.b,{to:"#",className:"button is-link"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.l,"aria-hidden":"true"}))," ",r.a.createElement("span",null,"Perfil p\xfablico")),r.a.createElement(E.b,{to:"/update",className:"button is-link"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.f,"aria-hidden":"true"}))," ",r.a.createElement("span",null,"Actualiza tu perfil")),r.a.createElement(E.b,{to:"#",className:"button is-danger"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.m,"aria-hidden":"true"}))," ",r.a.createElement("span",null,"Desactiva tu cuenta"))))))}}]),t}(n.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"Gestionar campa\xf1as"),r.a.createElement(E.b,{to:"#",className:"button is-primary is-large"},"Crear nueva campa\xf1a"),r.a.createElement("h3",{className:"title"},"Campa\xf1as activas"),r.a.createElement(E.b,{to:"#",className:"button is-primary"},"Editar campa\xf1a"),r.a.createElement(E.b,{to:"#",className:"button is-primary"},"Borrar campa\xf1a"))))}}]),t}(n.Component),A=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"Donantes"),r.a.createElement("p",null,"Los siguientes usuarios han dado consentimiento para ser contactados."))))}}]),t}(n.Component),R=function(){function e(){var t=this;Object(i.a)(this,e),this.getOrg=function(){return t.service.get("/").then((function(e){return e.data}))},this.updateUser=function(e){return t.service.put("/update/"+e._id,e).then((function(e){return e.data}))},this.getUser=function(e){return t.service.get("/"+e).then((function(e){return e.data}))},this.URL="https://causa-impacto.herokuapp.com/api/user",this.service=b.a.create({baseURL:this.URL,withCredentials:!0})}return Object(l.a)(e,[{key:"handleUpload",value:function(e){return this.service.post("/upload",e).then((function(e){return e.data}))}}]),e}();function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).toggleClass=function(){return a.setState({notification:!0})},a.toggleInterest=function(e){var t=a.state.loggedUser.userInterests;t.includes(e)?t.splice(t.indexOf(e),1):t.push(e);var n=F({},a.state.loggedUser,{userInterests:t});a.setState(F({},a.state,{loggedUser:n})),a.updateUser(n)},a.state={loggedUser:a.props.userInSession,notification:null,prueba:"",category:[],index:0},a.userService=new R,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateUser",value:function(e){return this.userService.updateUser(e).then().catch()}},{key:"handleCarousel",value:function(e){e?this.state.index>=16?this.setState(F({},this.state,{index:0})):this.setState(F({},this.state,{index:this.state.index+2})):this.state.index<=0?this.setState(F({},this.state,{index:16})):this.setState(F({},this.state,{index:this.state.index-2}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.index,n=t.category;return this.props.userInSession?"donor"===this.state.loggedUser.type&&n[0]?r.a.createElement("div",null,r.a.createElement(I,{toggleClass:this.toggleClass,notification:this.state.notification}),r.a.createElement("div",{className:"columns"},r.a.createElement(P,{userData:this.state.loggedUser}),r.a.createElement(U,{randomOrg:this.props.randomOrg})),r.a.createElement("div",{className:"columns"},r.a.createElement(x,null),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h3",{className:"title"},"\xbfQu\xe9 causas te interesan?"),r.a.createElement("div",{className:"columns categories"},r.a.createElement("div",{className:"column is-1"},r.a.createElement("button",{className:"button is-primary",onClick:function(){return e.handleCarousel(!1)}},r.a.createElement("span",{className:"icon is-large"},r.a.createElement(v.a,{icon:f.c,"aria-hidden":"true",size:"2x"})))),r.a.createElement(D,{key:a,id:n[a]._id,name:n[a].name,image:n[a].image,userData:this.state.loggedUser,toggleInterest:this.toggleInterest}),r.a.createElement(D,{key:a+1,id:n[a+1]._id,name:n[a+1].name,image:n[a+1].image,userData:this.state.loggedUser,toggleInterest:this.toggleInterest}),r.a.createElement("div",{className:"column is-1"},r.a.createElement("button",{className:"button is-primary",onClick:function(){return e.handleCarousel(!0)}},r.a.createElement("span",{className:"icon is-large"},r.a.createElement(v.a,{icon:f.d,"aria-hidden":"true",size:"2x"})))))))))):r.a.createElement("div",null,r.a.createElement(I,{toggleClass:this.toggleClass,notification:this.state.notification}),r.a.createElement("div",{className:"columns"},r.a.createElement(L,{userData:this.state.loggedUser})),r.a.createElement("div",{className:"columns"},r.a.createElement(A,null),r.a.createElement(T,null))):r.a.createElement("div",null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a;return e.userInSession?(a="active"===e.userInSession.status,t.loggedUser=e.userInSession,t.notification=a,t.category=e.categoryList):null}}]),t}(n.Component);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,Object(p.a)({},n,r)))},a.state={line1:e.line1,line2:e.line2,city:e.city,stateOrProvince:e.stateOrProvince,postalCode:e.postalCode,country:e.country,openTab:!0,expand:f.a,cardClass:"card-content hide"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleCardClass",value:function(){this.state.openTab?this.setState({openTab:!1,expand:f.b,cardClass:"card-content"}):this.setState({openTab:!0,expand:f.a,cardClass:"card-content hide"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card has-margin-2"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Direcci\xf3n"),r.a.createElement(E.b,{to:"#",onClick:function(){return e.toggleCardClass()}},r.a.createElement("span",{className:"icon is-medium has-margin-right-top"},r.a.createElement(v.a,{icon:this.state.expand,"aria-hidden":"true"})))),r.a.createElement("div",{className:this.state.cardClass},r.a.createElement("div",{className:"content"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"L\xednea 1:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"line1",value:this.state.line1,placeholder:"Calle...",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"L\xednea 2:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"line2",value:this.state.line2,placeholder:"Piso/Escalera...",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Ciudad:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"city",placeholder:"Ciudad",value:this.state.city,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Provincia:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"stateOrProvince",placeholder:"Provincia",value:this.state.stateOrProvince,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"C\xf3digo postal:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"postalCode",placeholder:"C\xf3digo Postal",value:this.state.postalCode,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Pa\xeds:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"country",placeholder:"Pa\xeds",value:this.state.country,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("button",{className:"button is-link",onClick:function(){return e.props.handleUpdateSubmit(e.state)},type:"submit"},"Actualizar")))))}}]),t}(n.Component);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,Object(p.a)({},n,r)))},a.state={userFirstname:e.firstname,userLastname:e.surname,openTab:!0,expand:f.a,cardClass:"card-content hide"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleCardClass",value:function(){this.state.openTab?this.setState({openTab:!1,expand:f.b,cardClass:"card-content"}):this.setState({openTab:!0,expand:f.a,cardClass:"card-content hide"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card has-margin-2"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Nombre completo"),r.a.createElement(E.b,{to:"#",onClick:function(){return e.toggleCardClass()}},r.a.createElement("span",{className:"icon is-medium has-margin-right-top"},r.a.createElement(v.a,{icon:this.state.expand,"aria-hidden":"true"})))),r.a.createElement("div",{className:this.state.cardClass},r.a.createElement("div",{className:"content"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Nombre:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"userFirstname",type:"text",value:this.state.userFirstname,placeholder:"Nombre",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Apellidos:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"userSurname",type:"text",value:this.state.userSurname,placeholder:"Apellidos",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("button",{className:"button is-link",onClick:function(){return e.props.handleUpdateSubmit(e.state)},type:"submit"},"Actualizar")))))}}]),t}(n.Component);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,Object(p.a)({},n,r)))},a.state={orgContactPerson:e.contactPerson,orgTelephone:e.telephone,orgEmail:e.email,orgUrl:e.url,openTab:!0,expand:f.a,cardClass:"card-content hide"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleCardClass",value:function(){this.state.openTab?this.setState({openTab:!1,expand:f.b,cardClass:"card-content"}):this.setState({openTab:!0,expand:f.a,cardClass:"card-content hide"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card has-margin-2"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Datos de contacto"),r.a.createElement(E.b,{to:"#",onClick:function(){return e.toggleCardClass()}},r.a.createElement("span",{className:"icon is-medium has-margin-right-top"},r.a.createElement(v.a,{icon:this.state.expand,"aria-hidden":"true"})))),r.a.createElement("div",{className:this.state.cardClass},r.a.createElement("div",{className:"content"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Persona de contacto:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"orgContactPerson",type:"text",value:this.state.orgContactPerson,placeholder:"Nombre Apellidos",onChange:function(t){return e.handleChange(t)}})),r.a.createElement("span",{className:"help"},r.a.createElement("p",null,"Este campo ",r.a.createElement("span",{className:"txt-is-violet is-bold"},"NO")," ser\xe1 visible p\xfablicamente."," ",r.a.createElement("span",{className:"txt-is-orange is-bold"},"causa"),r.a.createElement("span",{className:"txt-is-blue is-bold"},"justa")," lo utilizar\xe1 solo para verificar datos."))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Tel\xe9fono p\xfablico:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"orgTelephone",type:"text",value:this.state.orgTelephone,placeholder:"+34...",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email p\xfablico:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"orgEmail",type:"email",value:this.state.orgEmail,placeholder:"nombre@email.com",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Direcci\xf3n web:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"orgUrl",type:"url",value:this.state.orgUrl,placeholder:"http://www.tusitio.com",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("button",{className:"button is-link",onClick:function(){return e.props.handleUpdateSubmit(e.state)},type:"submit"},"Actualizar")))))}}]),t}(n.Component);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,Object(p.a)({},n,r)))},a.state={orgName:e.name,orgDescription:e.description,orgRegistrar:e.registrar,orgLicense:e.license,openTab:!0,expand:f.a,cardClass:"card-content hide"},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleCardClass",value:function(){this.state.openTab?this.setState({openTab:!1,expand:f.b,cardClass:"card-content"}):this.setState({openTab:!0,expand:f.a,cardClass:"card-content hide"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card has-margin-2"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},"Datos de la organizaci\xf3n"),r.a.createElement(E.b,{to:"#",onClick:function(){return e.toggleCardClass()}},r.a.createElement("span",{className:"icon is-medium has-margin-right-top"},r.a.createElement(v.a,{icon:this.state.expand,"aria-hidden":"true"})))),r.a.createElement("div",{className:this.state.cardClass},r.a.createElement("div",{className:"content"},r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Nombre:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"orgName",value:this.state.orgName,placeholder:"Nombre",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Descripci\xf3n:"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{className:"textarea",name:"orgDescription",onChange:function(t){return e.handleChange(t)},value:this.state.orgDescription,placeholder:"Descripci\xf3n breve de la misi\xf3n, los valores y los objetivos de la organizaci\xf3n."}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Lugar de registro:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"orgRegistrar",value:this.state.orgRegistrar,placeholder:"Lugar de registro de la asociaci\xf3n, fundaci\xf3n...",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"N\xfamero de registro:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"text",name:"orgLicense",value:this.state.orgLicense,placeholder:"N\xfamero de registro",onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("button",{className:"button is-link",onClick:function(){return e.props.handleUpdateSubmit(e.state)},type:"submit"},"Actualizar")))))}}]),t}(n.Component);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.userService.handleUpload(t).then((function(e){a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{imageUrl:e.secure_url}))})).catch((function(e){console.log("Error while uploading the file: ",e)}))},a.state={openTab:!0,expand:f.a,cardClass:"card-content hide"},a.userService=new R,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleCardClass",value:function(){this.state.openTab?this.setState({openTab:!1,expand:f.b,cardClass:"card-content"}):this.setState({openTab:!0,expand:f.a,cardClass:"card-content hide"})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card has-margin-2"},r.a.createElement("header",{className:"card-header"},r.a.createElement("p",{className:"card-header-title"},this.props.title),r.a.createElement(E.b,{to:"#",onClick:function(){return e.toggleCardClass()}},r.a.createElement("span",{className:"icon is-medium has-margin-right-top"},r.a.createElement(v.a,{icon:this.state.expand,"aria-hidden":"true"})))),r.a.createElement("div",{className:this.state.cardClass},r.a.createElement("form",null,r.a.createElement("div",{className:"file"},r.a.createElement("label",{className:"file-label"},r.a.createElement("input",{className:"file-input",type:"file",onChange:function(t){return e.handleUpload(t)}}),r.a.createElement("span",{className:"file-cta"},r.a.createElement("span",{className:"file-icon"},r.a.createElement(v.a,{icon:f.k,"aria-hidden":"true"})),r.a.createElement("span",{className:"file-label"},"Selecciona un archivo...")))),r.a.createElement("div",{className:this.state.imageUrl?"has-margin-1":"hide"}," ",r.a.createElement("figure",{className:"image is-128x128"},r.a.createElement("img",{src:this.state.imageUrl,alt:"Imagen subida"})),r.a.createElement("p",null,'Si est\xe1s satisfecho con la imagen, pulsa "Actualizar".')),r.a.createElement("button",{className:"button is-link",onClick:function(){return e.props.handleUpdateSubmit(e.state.imageUrl)},type:"submit"},"Actualizar"))))}}]),t}(n.Component);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleAddressSubmit=function(e){var t=X({},a.props.userInSession,{address:X({},e)});a.updateUser(t)},a.handleFullNameSubmit=function(e){var t=X({},a.props.userInSession,{userFirstname:e.userFirstname,userSurname:e.userSurname});a.updateUser(t)},a.handleOrgContactSubmit=function(e){var t=X({},a.props.userInSession,{orgContactPerson:e.orgContactPerson,orgTelephone:e.orgTelephone,orgEmail:e.orgEmail,orgUrl:e.orgUrl});a.updateUser(t)},a.handleOrgDetailsSubmit=function(e){var t=X({},a.props.userInSession,{orgName:e.orgName,orgDescription:e.orgDescription,orgRegistrar:e.orgRegistrar,orgLicense:e.orgLicense});a.updateUser(t)},a.handleImageSubmit=function(e){var t=X({},a.props.userInSession,{image:e});a.updateUser(t)},a.state={},a.userService=new R,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateUser",value:function(e){return this.userService.updateUser(e).then().catch()}},{key:"render",value:function(){return this.props.userInSession?"donor"===this.props.userInSession.type?r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"title"},"Actualiza tus datos"),r.a.createElement("div",null,r.a.createElement("p",null,"Despliega cada secci\xf3n haciendo click en la esquina superior derecha. Cumplimenta solo aquellos campos que quieras actualizar.")),r.a.createElement(V,{title:"Imagen de perfil",handleUpdateSubmit:this.handleImageSubmit}),r.a.createElement(J,{firstname:this.props.userInSession.userFirstname,surname:this.props.userInSession.userSurname,handleUpdateSubmit:this.handleFullNameSubmit}),r.a.createElement(M,{line1:this.props.userInSession.address.line1,line2:this.props.userInSession.address.line2,city:this.props.userInSession.address.city,stateOrProvince:this.props.userInSession.address.stateOrProvince,postalCode:this.props.userInSession.address.postalCode,country:this.props.userInSession.address.country,handleUpdateSubmit:this.handleAddressSubmit}))):r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column"},r.a.createElement("h1",{className:"title"},"Actualiza tus datos"),r.a.createElement("div",null,r.a.createElement("p",null,"Despliega cada secci\xf3n haciendo click en la esquina superior derecha. Cumplimenta solo aquellos campos que quieras actualizar.")),r.a.createElement(V,{title:"Logo de la organizaci\xf3n",handleUpdateSubmit:this.handleImageSubmit}),r.a.createElement(Q,{name:this.props.userInSession.orgName,description:this.props.userInSession.orgDescription,registrar:this.props.userInSession.orgRegistrar,license:this.props.userInSession.orgLicense,handleUpdateSubmit:this.handleOrgDetailsSubmit}),r.a.createElement(M,{line1:this.props.userInSession.address.line1,line2:this.props.userInSession.address.line2,city:this.props.userInSession.address.city,stateOrProvince:this.props.userInSession.address.stateOrProvince,postalCode:this.props.userInSession.address.postalCode,country:this.props.userInSession.address.country,handleUpdateSubmit:this.handleAddressSubmit}),r.a.createElement(H,{contactPerson:this.props.userInSession.orgContactPerson,telephone:this.props.userInSession.orgTelephone,email:this.props.userInSession.orgEmail,url:this.props.userInSession.orgUrl,handleUpdateSubmit:this.handleOrgContactSubmit}))):r.a.createElement("h1",null,"Redirecciona a login")}}]),t}(n.Component),$=function e(){var t=this;Object(i.a)(this,e),this.getCategories=function(){return t.service.get("/").then((function(e){return e.data}))},this.URL="https://causa-impacto.herokuapp.com/api/category",this.service=b.a.create({baseURL:this.URL,withCredentials:!0})},ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).userService=new R,a.state={profile:a.userService.getUser(a.props.match.params.id)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return"donor"===this.state.profile.type?r.a.createElement("div",null):r.a.createElement("div",{className:"donor"===this.props.userInSession.type?"":"hide"},r.a.createElement(E.b,{to:"/donate/o/"+this.props.match.params.id,className:"button is-large is-primary"},r.a.createElement("span",{className:"icon is-medium","aria-hidden":"true"},r.a.createElement(v.a,{icon:f.e,"aria-hidden":"true"})),r.a.createElement("span",null,"Donar")))}}]),t}(n.Component),te=a(38),ae=a.n(te),ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={showButton:!1},window.React=r.a,window.ReactDOM=c.a,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,a=e.isScriptLoadSucceed;t&&a&&this.setState({showButton:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButton&&!this.props.isScriptLoaded&&t&&a&&this.setState({showButton:!0})}},{key:"render",value:function(){var e=window.PAYPAL,t=this.props,a=t.total,n=t.currency,s=t.env,c=t.commit,i=t.client,l=t.onSuccess,o=t.onError,m=t.onCancel,u=this.state.showButton;return r.a.createElement("div",null,u&&r.a.createElement(e.Button.react,{env:s,client:i,commit:c,payment:function(){return e.rest.payment.create(s,i,{transactions:[{amount:{total:a,currency:n}}]})},onAuthorize:function(e,t){return t.payment.execute().then((function(){var t={paid:!0,cancelled:!1,payerID:e.payerID,paymentID:e.paymentID,paymentToken:e.paymentToken,returnUrl:e.returnUrl};l(t)}))},onCancel:m,onError:o}))}}]),t}(r.a.Component),re=ae()("https://www.paypalobjects.com/api/checkout.js")(ne);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={sandbox:"AcZBNh4ILpTrN4lrRpqJ9Sxk62A-3wbAmAbkY6HJfH7FUSN9mtBSBO_KVlU5TIEldbCKoNdXKSGFE-t5"},le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(ce({},a.state,Object(p.a)({},n,r)))},a.handleCheckboxChange=function(e){var t=e.target,n=t.name,r=t.checked;a.setState(ce({},a.state,Object(p.a)({},n,r)))},a.state={donation:10,anonymous:!1,contact:!0},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Cantidad:"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{name:"donation",className:"input is-large",type:"text",placeholder:"Text input",value:this.state.donation,onChange:function(t){return e.handleChange(t)}}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",name:"anonymous",checked:this.state.anonymous,onChange:function(t){return e.handleCheckboxChange(t)}}),r.a.createElement("span",null,"Donar de forma an\xf3nima."))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",name:"contact",checked:this.state.contact,onChange:function(t){return e.handleCheckboxChange(t)}}),r.a.createElement("span",null,"Quiero que la organizaci\xf3n me pueda contactar."))),r.a.createElement(re,{client:ie,env:"sandbox",commit:!0,currency:"EUR",total:this.state.donation,onSuccess:function(e){return console.log("Successful payment!",e)},onError:function(e){return console.log("Erroneous payment OR failed to load script!",e)},onCancel:function(e){return console.log("Cancelled payment!",e)}})))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getUser=function(e){a.setState({loggedInUser:e})},a.logout=function(){a.authService.logout().then((function(){a.setState({loggedInUser:null})}))},a.state={loggedInUser:null,confimationCode:"",categories:[],randomOrg:{}},a.authService=new g,a.categoryService=new $,a.userService=new R,a.fetchUser(),a.getCategories(),a.getRandomOrg(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"getCategories",value:function(){var e=this;return this.categoryService.getCategories().then((function(t){e.setState({categories:t})})).catch((function(t){e.setState({categories:!1})}))}},{key:"getRandomOrg",value:function(){var e=this;return this.userService.getOrg().then((function(t){var a=t[Math.floor(Math.random()*t.length)];e.setState({randomOrg:a})})).catch((function(t){e.setState({randomOrg:!1})}))}},{key:"fetchUser",value:function(){var e=this;return this.authService.loggedin().then((function(t){e.setState({loggedInUser:t})})).catch((function(t){e.setState({loggedInUser:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"App"},r.a.createElement(y,{userInSession:this.state.loggedInUser,logout:this.logout}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/home",render:function(t){return r.a.createElement(B,{userInSession:e.state.loggedInUser,categoryList:e.state.categories,randomOrg:e.state.randomOrg})}}),r.a.createElement(d.a,{exact:!0,path:"/update",render:function(){return r.a.createElement(Z,{userInSession:e.state.loggedInUser})}}),r.a.createElement(d.a,{exact:!0,path:"/profile/:id",render:function(t){var a=t.match;return r.a.createElement(ee,{userInSession:e.state.loggedInUser,match:a})}}),r.a.createElement(d.a,{exact:!0,path:"/donate/o/:id",render:function(t){var a=t.match;return r.a.createElement(le,{userInSession:e.state.loggedInUser,match:a})}}),r.a.createElement(d.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(S,{getUser:e.getUser})}}),r.a.createElement(d.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(k,{getUser:e.getUser})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(70),a(71),a(72);c.a.render(r.a.createElement(E.a,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[39,1,2]]]);
//# sourceMappingURL=main.ffb0eb40.chunk.js.map